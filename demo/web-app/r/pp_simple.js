var a={};a["src"]="./a.js";a.src="./b.js";
(function(){window.NEJ=window.NEJ||{};NEJ.O={};NEJ.R=[];NEJ.F=function(){return!1};NEJ.P=function(_namespace){if(!_namespace||!_namespace.length)return null;var _package=window;for(var a=_namespace.split("."),l=a.length,i=a[0]=="window"?1:0;i<l;_package=_package[a[i]]=_package[a[i]]||{},i++);return _package};NEJ.Q=function(_context,_namespace){_context=_context||NEJ.O;var _arr=_namespace.split(".");for(var i=0,l=_arr.length;i<l;i++){_context=_context[_arr[i]];if(!_context)break}return _context};NEJ.C=function(){var _isNotFunction=function(){return NEJ.O.toString.call(arguments[0])!="[object Function]"};var _getMethodName=function(_value,_map){for(var x in _map)if(_value==_map[x])return x;return null};var _mmap={__init:0,__reset:1,__destroy:2,__initNode:3,__doBuild:4,__onShow:5,__onHide:6,__onRefresh:7},_umap={__supInit:0,__supReset:1,__supDestroy:2,__supInitNode:3,__supDoBuild:4,__supOnShow:5,__supOnHide:6,__supOnRefresh:7};return function(){var _class=function(){this.__cp__();return this.__init.apply(this,arguments)};_class.prototype.__cp__=NEJ.F;_class.prototype.__init=NEJ.F;_class._$extend=function(_super,_static){if(_isNotFunction(_super))return;if(_static==null||!!_static)NEJ.X(this,_super,_isNotFunction);this._$super=_super;this._$supro=_super.prototype;var _parent=function(){};_parent.prototype=_super.prototype;this.prototype=new _parent;var _prototype=this.prototype;_prototype.constructor=this;var _tmp;for(var x in _mmap){_tmp=_getMethodName(_mmap[x],_umap);if(!_tmp||!this._$supro[x])continue;_prototype[x]=function(_name){return function(){this[_name].apply(this,arguments)}}(_tmp)}var _pmap={};for(var x in _umap){_tmp=_getMethodName(_umap[x],_mmap);if(!_tmp||!this._$supro[_tmp])continue;_pmap[_tmp]=_super;_prototype[x]=function(_name){return function(){var _result,_parent=this.__ancestor__[_name],_method=_parent.prototype[_name];this.__ancestor__[_name]=_parent._$super||_super;if(!!_method)_result=_method.apply(this,arguments);this.__ancestor__[_name]=_super;return _result}}(_tmp)}_prototype.__cp__=function(){this.__ancestor__=NEJ.X({},_pmap)};_prototype.__super=_prototype.__supInit;return _prototype};return _class}}();NEJ.X=function(_object,_config,_filter){if(!_object||!_config)return _object;_filter=_filter||NEJ.F;for(var x in _config){if(_config.hasOwnProperty(x)&&!_filter(_config[x],x))_object[x]=_config[x]}return _object};NEJ.EX=function(_object,_config){if(!_object||!_config)return _object;for(var x in _object){if(_object.hasOwnProperty(x)&&_config[x]!=null)_object[x]=_config[x]}return _object};var _extpro=Function.prototype;_extpro._$aop=function(_before,_after){var f=NEJ.F,_after=_after||f,_before=_before||f,_handler=this;return function(){var _event={args:NEJ.R.slice.call(arguments,0)};_before(_event);if(!_event.stopped){_event.value=_handler.apply(this,_event.args);_after(_event)}return _event.value}};_extpro._$bind=function(){var _args=arguments,_object=arguments[0],_function=this;return function(){var _argc=NEJ.R.slice.call(_args,1);NEJ.R.push.apply(_argc,arguments);return _function.apply(_object||window,_argc)}};_extpro._$bind2=function(){var _args=arguments,_object=NEJ.R.shift.call(_args),_function=this;return function(){NEJ.R.push.apply(arguments,_args);return _function.apply(_object||window,arguments)}};var _extpro=String.prototype;if(!_extpro.trim){_extpro.trim=function(){var _reg=/(?:^\s+)|(?:\s+$)/g;return function(){return this.replace(_reg,"")}}()}if(!window.MWF)window.MWF=NEJ;if(!window.mwf)window.mwf=NEJ.P("nej");if(!window.console){NEJ.P("console").log=NEJ.F;NEJ.P("console").error=NEJ.F}var lt,gt,amp,nbsp,quot,apos,copy,reg})();
(function(){var _=NEJ.P,_o=NEJ.O,_p=_("nej.p"),_platform=window.navigator.platform,_useragent=window.navigator.userAgent;var _is={mac:_platform,win:_platform,linux:_platform,ipad:_useragent,ipod:_useragent,iphone:_platform,android:_useragent};_p._$IS=_is;for(var x in _is)_is[x]=(new RegExp(x,"i")).test(_is[x]);_is.ios=_is.ipad||_is.iphone||_is.ipod;_is.tablet=_is.ipad;_is.desktop=_is.mac||_is.win||_is.linux&&!_is.android;var _kernel={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};_p._$KERNEL=_kernel;if(/msie\s+(.*?);/i.test(_useragent)||/trident\/.+rv:([\d\.]+)/i.test(_useragent)){_kernel.engine="trident";_kernel.browser="ie";_kernel.version=RegExp.$1;_kernel.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var _test={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};_kernel.release=_test[document.documentMode]||_test[parseInt(_kernel.version)]}else if(/webkit\/?([\d.]+?)(?=\s|$)/i.test(_useragent)){_kernel.engine="webkit";_kernel.release=RegExp.$1||"";_kernel.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}}else if(/rv\:(.*?)\)\s+gecko\//i.test(_useragent)){_kernel.engine="gecko";_kernel.release=RegExp.$1||"";_kernel.browser="firefox";_kernel.prefix={css:"Moz",pro:"moz",clz:"Moz"};if(/firefox\/(.*?)(?=\s|$)/i.test(_useragent))_kernel.version=RegExp.$1||""}else if(/presto\/(.*?)\s/i.test(_useragent)){_kernel.engine="presto";_kernel.release=RegExp.$1||"";_kernel.browser="opera";_kernel.prefix={css:"O",pro:"o",clz:"O"};if(/version\/(.*?)(?=\s|$)/i.test(_useragent))_kernel.version=RegExp.$1||""}if(_kernel.browser=="unknow"){var _test=["chrome","maxthon","safari"];for(var i=0,l=_test.length,_name;i<l;i++){_name=_test[i]=="safari"?"version":_test[i];if((new RegExp(_name+"/(.*?)(?=\\s|$)","i")).test(_useragent)){_kernel.browser=_test[i];_kernel.version=RegExp.$1.trim();break}}}_p._$SUPPORT={};var _notd=_kernel.engine!="trident";_p._$NOT_PATCH={gecko:_kernel.engine!="gecko",webkit:_kernel.engine!="webkit",presto:_kernel.engine!="presto",trident0:_notd||_kernel.release>"2.0",trident1:_notd||_kernel.release<"6.0",trident2:_notd||_kernel.release>"3.0",trident:_notd||_kernel.release>="6.0"}})();
(function(){var _c=NEJ.P("nej.c"),_cache={};var _url2host=function(){var _reg=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(_url){_url=_url||"";if(_reg.test(_url))return RegExp.$1;return location.protocol+"//"+location.host}}();var _doInit=function(){var _doInitProxy=function(_list,_map){if(!_list||!_list.length)return;for(var i=0,l=_list.length,_path;i<l;i++){_path=_list[i];if(_path.indexOf("://")>0)_map[_url2host(_path)]=_path}};var _conf={portrait:{name:"portrait",dft:"portrait/"},"ajax.swf":{name:"ajax",dft:"nej_proxy_flash.swf"},"chart.swf":{name:"chart",dft:"nej_flex_chart.swf"},"audio.swf":{name:"audio",dft:"nej_player_audio.swf"},"video.swf":{name:"video",dft:"nej_player_video.swf"},"clipboard.swf":{name:"clipboard",dft:"nej_clipboard.swf"},"upload.image.swf":{name:"uploadimage",dft:"nej_upload_image.swf"}};return function(_config){_c.__set("root",_config.root||"/res/");var _cnf,_root=_c._$get("root");for(var x in _conf){_cnf=_conf[x];_c.__set(x,_config[_cnf.name]||_root+_cnf.dft)}var _csrf=_config.p_csrf;if(_csrf==!0){_csrf={cookie:"AntiCSRF",param:"AntiCSRF"}}_c.__set("csrf",NEJ.EX({cookie:"",param:""},_csrf));_cache.frames={};_doInitProxy(_config.p_frame,_cache.frames);_cache.flashs={};_doInitProxy(_config.p_flash,_cache.flashs)}}();_c.__set=function(_key,_value){_cache[_key]=_value};_c._$get=function(_key){return _cache[_key]};_c._$getFrameProxy=function(_url){var _host=_url2host(_url);return _cache.frames[_host]||_host+"/res/nej_proxy_frame.html"};_c._$getFlashProxy=function(_url){return _cache.flashs[_url2host(_url)]};_doInit(window.NEJ_CONF||NEJ.O)})();
(function(){var _=NEJ.P,_c=_("nej.c"),_p=_("nej.g"),_seed=+(new Date);_p._$CODE_NOTFUND=1e4-_seed;_p._$CODE_NOTASGN=10001-_seed;_p._$CODE_NOTSPOT=10002-_seed;_p._$CODE_TIMEOUT=10003-_seed;_p._$CODE_ERREVAL=10004-_seed;_p._$CODE_ERRCABK=10005-_seed;_p._$CODE_ERRSERV=10006-_seed;_p._$CODE_ERRABRT=10007-_seed;_p._$HEAD_CT="Content-Type";_p._$HEAD_CT_PLAN="text/plain";_p._$HEAD_CT_FILE="multipart/form-data";_p._$HEAD_CT_FORM="application/x-www-form-urlencoded";_p._$BLANK_IMAGE=_c._$get("blank.png")||"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})();
(function(){var _=NEJ.P,_r=NEJ.R,_p=_("nej.p"),_e=_("nej.e"),_v=_("nej.v"),_u=_("nej.u"),_h=_("nej.h");var _prefix=_p._$KERNEL.prefix,_suport=_p._$SUPPORT,_2dmap={scale:"scale({x|1},{y|1})",rotate:"rotate({a})",translate:"translate({x},{y})"},_3dmap={scale:"scale3d({x|1},{y|1},{z|1})",rotate:"rotate3d({x},{y},{z},{a})",translate:"translate3d({x},{y},{z})"},_cssmap={transition:!0,transform:!0,animation:!0,keyframes:!0,box:!0,"box-pack":!0,"box-flex":!0,marquee:!0,"border-radius":!0,"user-select":!0};var _doInit=function(){var _matrix=_h.__getCSSMatrix();_suport.css3d=!!_matrix&&_matrix.m41!=null;var _reg=/-([a-z])/g;for(var x in _cssmap){_cssmap[_doFormatStyleName(x)]=_cssmap[x]}};var _doFormatStyleName=function(){var _reg=/-([a-z])/g;return function(_name){_name=_name||"";return _name.replace(_reg,function($1,$2){return $2.toUpperCase()})}}();var _getTransformTemplate=function(_name){return(!_suport.css3d?_2dmap:_3dmap)[_name]};var _getClassList=function(){var _reg=/\s+/;return function(_class){_class=(_class||"").trim();return!!_class?_class.split(_reg):null}}();var _doClassName=function(_element,_type,_class){_element=_e._$get(_element);if(!_element)return;_u._$forEach(_getClassList(_class),function(_clazz){_element.classList[_type](_clazz)})};_h.__col2array=function(_list){return _r.slice.call(_list,0)};_h.__getChildren=function(_element){return _h.__col2array(_element.children)};_h.__getElementsByClassName=function(_element,_class){return _h.__col2array(_element.getElementsByClassName(_class))};_h.__nextSibling=function(_element){return _element.nextElementSibling};_h.__previousSibling=function(_element){return _element.previousElementSibling};_h.__addClassName=function(_element,_add){_doClassName(_element,"add",_add)};_h.__delClassName=function(_element,_del){_doClassName(_element,"remove",_del)};_h.__replaceClassName=function(_element,_del,_add){_doClassName(_element,"remove",_del);_doClassName(_element,"add",_add)};_h.__hasClassName=function(_element,_class){_element=_e._$get(_element);if(!_element)return!1;var _list=_element.classList;if(!_list||!_list.length)return!1;return _u._$indexOf(_getClassList(_class),function(_clazz){return _list.contains(_clazz)})>=0};_h.__hoverElement=function(_element,_clazz){};_h.__fixedElement=function(_element){};_h.__setCursorPosition=function(_textarea,_position){_textarea.selectionEnd=_position.end||0;_textarea.selectionStart=_position.start||0;_textarea.focus()};_h.__getCursorPosition=function(_textarea){return{end:_textarea.selectionEnd,start:_textarea.selectionStart}};_h.__focusElement=function(){var _onBlur=function(_clazz,_event){var _element=_v._$getElement(_event);if(!_element.value)_e._$delClassName(_element,_clazz)};var _onFocus=function(_clazz,_event){_e._$addClassName(_v._$getElement(_event),_clazz)};return function(_element,_mode,_clazz){if(_mode==1){_v._$addEvent(_element,"blur",_onBlur._$bind(null,_clazz))}if(_mode==1||_mode==-1){_v._$addEvent(_element,"focus",_onFocus._$bind(null,_clazz))}}}();_h.__serializeDOM2XML=function(_dom){return(new XMLSerializer).serializeToString(_dom)||""};_h.__parseDOMFromXML=function(_xml){var _root=(new DOMParser).parseFromString(_xml,"text/xml").documentElement;return _root.nodeName=="parsererror"?null:_root};_h.__fullScreen=function(_element){};_h.__mask=function(_element){return null};_h.__unmask=function(_element){return null};_h.__pushHistory=function(_hash){};_h.__formatEventArgs=function(){var _args=_h.__col2array(arguments);_args[0]=_e._$get(_args[0]);if(!_args[0])return null;_args[1]=(_args[1]||"").toLowerCase();if(!_args[1])return null;return _args};_h.__checkEvent=function(){var _tmap={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},_emap={transitionend:"TransitionEnd",animationend:"AnimationEnd",animationstart:"AnimationStart",animationiteration:"AnimationIteration"};var _doCompletePrefix=function(_type){return(_prefix.evt||_prefix.pro)+_type};return function(){var _args=_h.__formatEventArgs.apply(_h,arguments);if(!_args)return;var _type=_h.__checkEventType(_args[0],_args[1]);if(!!_type){_args[4]=_args[1];_args[1]=_type;if(!!_args[2]){_args[5]=_args[2];_args[2]=_h.__checkEventHandler(_args[1],_args[2],_args[0])}return _args}var _type1=_emap[_args[1]],_type2=_tmap[_args[1]];if(!!_type1){_args[4]=_args[1];_args[1]=_doCompletePrefix(_type1)}else if(!!_type2){var _name="on"+_args[1];if(!(_name in _args[0])){_args[4]=_args[1];_args[1]=_type2}}return _args}}();_h.__checkEventTypeWithConf=function(_map,_event){var _value,_args=_event.args,_type=_args[1],_element=_args[0];if(!("on"+_type in _element)){_value=_map[_type]||""}if(!!_value&&!_map[_value]&&!("on"+_value in _element)){_value=null}if(!!_value){_event.stopped=!0;_event.value=_value}};_h.__checkEventType=function(){var _emap={enter:"keypress"};return function(_element,_type){return _emap[_type]||null}}();_h.__checkEventHandler=function(_type,_handler,_element){var _callback=_handler;switch(_type){case"keypress":_callback=function(_event){var _this=_v._$getElement(_event)||this;if(_event.keyCode==13){_handler.call(_this,_event)}};break}return _callback};_h.__addEvent=function(){var _args=arguments,_isok="on"+_args[1]in _args[0];if(!_isok){console.log("not support event["+_args[1]+"] for "+_args[0])}_args[0].addEventListener(_args[1],_args[2],!!_args[3])};_h.__delEvent=function(){var _args=arguments;_args[0].removeEventListener(_args[1],_args[2],!!_args[3])};_h.__dispatchEvent=function(_element,_type,_options){var _event=document.createEvent("Event");_event.initEvent(_type,!0,!0);NEJ.X(_event,_options);_element.dispatchEvent(_event)};_h.__getCSSMatrix=function(){var _reg0=/\((.*?)\)/,_reg1=/\s*,\s*/,_list=["m11","m12","m21","m22","m41","m42"];var _parse=function(_matrix){var _obj={};if(_reg0.test(_matrix||"")){_u._$forEach(RegExp.$1.split(_reg1),function(_value,_index){_obj[_list[_index]]=_value||""})}return _obj};return function(_matrix){if(!!window.CSSMatrix)return new CSSMatrix(_matrix);var _name=_prefix.clz+"CSSMatrix";if(!!window[_name])return new window[_name](_matrix||"");return _parse(_matrix)}}();_h.__getTransformValue=function(){var _reg=/\{(.*?)\}/g;return function(_name,_map){_map=_map||o;var _tpl=_getTransformTemplate(_name);return!_tpl?"":_tpl.replace(_reg,function($1,$2){var _arr=$2.split("|");return _map[_arr[0]]||_arr[1]||"0"})}}();_h.__getStyleValue=function(_element,_name){var _current=window.getComputedStyle(_element,null);return _current[_h.__getStyleName(_name)]||""};_h.__getStyleName=function(){var _reg=/^[a-z]/,_pfx=_prefix.css;var _addPrefix=function(_name){return _name.replace(_reg,function($1){return _pfx+$1.toUpperCase()})};return function(_name){_name=_doFormatStyleName(_name);var _pfxed=_h.__checkStyleName(_name,_cssmap);return _pfxed?_addPrefix(_name):_name}}();_h.__applyStyle=function(_element,_name,_value){_element.style[_h.__getStyleName(_name)]=_value};_h.__checkStyleName=function(){var _reg=/^([a-z]+?)[A-Z]/;return function(_name,_map){if(!_map[_name]){if(_reg.test(_name))_name=RegExp.$1}return!!_map[_name]}}();_h.__filterCSSText=function(){var _reg=/\$<(.*?)>/gi,_pfx="-"+_prefix.css.toLowerCase()+"-";return function(_css){return _css.replace(_reg,function($1,$2){var _val=$2,_arr=_val.split("|"),_tpl=_getTransformTemplate(_arr[0]);if(!!_tpl){return _h.__getTransformValue(_arr[0],_u._$query2object(_arr[1]))}return!_h.__checkCSSText(_val,_cssmap)?_val:_pfx+_val})}}();_h.__checkCSSText=function(_name,_map){return!!_map[_name]};_h.__applyCSSText=function(_style,_css){_style.textContent=_css};_h.__appendCSSText=function(_style,_css){var _sheet=_style.sheet,_length=_sheet.cssRules.length;_sheet.insertRule(_css,_length);return _sheet.cssRules[_length]};_h.__applyEffect=function(_element,_options){};_h.__canFlashEventBubble=function(_wmode){return(_wmode||"").toLowerCase()!="transparent"};_h.__handleFileLabelClick=function(_element){};_h.__getAttribute=function(_element,_name){if(!!_element.getAttribute)return _element.getAttribute(_name);return""};_h.__removeIFrameKeepHistory=function(_iframe){_e._$remove(_iframe)};_doInit()})();
(function(){var _=NEJ.P,_e=_("nej.e"),_h=_("nej.h");var __hasClassMethod=function(){var _test=!!document.body.classList;return function(){return _test}}();var __getClassRegExp=function(){var _reg=/\s+/g;return function(_class){_class=(_class||"").trim();return!_class?null:new RegExp("(\\s|^)(?:"+_class.replace(_reg,"|")+")(?=\\s|$)","g")}}();_h.__replaceClassName=_h.__replaceClassName._$aop(function(_event){if(__hasClassMethod())return;_event.stopped=!0;var _args=_event.args,_element=_e._$get(_args[0]);if(!_element||!_args[1]&&!_args[2])return;var _class=_element.className||"";var _add=" "+(_args[2]||""),_del=__getClassRegExp((_args[1]||"")+_add);!!_del&&(_class=_class.replace(_del,"$1"));_element.className=(_class+_add).replace(/\s+/g," ").trim()});_h.__addClassName=_h.__addClassName._$aop(function(_event){if(__hasClassMethod())return;_event.stopped=!0;var _args=_event.args;_h.__replaceClassName(_args[0],"",_args[1])});_h.__delClassName=_h.__delClassName._$aop(function(_event){if(__hasClassMethod())return;_event.stopped=!0;var _args=_event.args;_h.__replaceClassName(_args[0],_args[1],"")});_h.__hasClassName=_h.__hasClassName._$aop(function(_event){if(__hasClassMethod())return;_event.stopped=!0;var _args=_event.args,_element=_e._$get(_args[0]);if(!_element){_event.value=!1;return}var _reg=__getClassRegExp(_args[1]);_event.value=!_reg?!1:_reg.test(_element.className||"")})})();
(function(){var _=NEJ.P,_e=_("nej.e"),_v=_("nej.v"),_p=_("nej.p"),_h=_("nej.h");if(_p._$NOT_PATCH.webkit)return;_h.__checkEventType=function(){var _emap={mouseenter:"mouseover",mouseleave:"mouseout"};return _h.__checkEventType._$aop(_h.__checkEventTypeWithConf._$bind(_h,_emap))}();_h.__checkEventHandler=function(){var _cache={};var _doCheckElement=function(_id,_element){return _id==_element.id};var _doCheckCache=function(_id,_state,_event){var _key=_id+"-timer";_cache[_key]=window.clearTimeout(_cache[_key]);var _element=_v._$getElement(_event,_doCheckElement._$bind(null,_id));if(!_element)return;_v._$stopBubble(_event);if(_cache[_id]!=_state){_cache[_id]=_state;return _element}};var _doMouseEnter=function(_id,_handler,_event){var _element=_doCheckCache(_id,"over",_event);if(!!_element){_handler.call(_element,_event)}};var _doMouseLeave=function(_id,_handler,_event){var _element=_doCheckCache(_id,"out",_event);if(!!_element){_cache[_id+"-timer"]=window.setTimeout(_doMouseLeaveCheck._$bind(null,_id,_handler,NEJ.X({},_event)),50)}};var _doMouseLeaveCheck=function(_id,_handler,_event){delete _cache[_id+"-timer"];if(_cache[_id]=="out"){var _element=_e._$get(_id);_handler.call(_element,_event)}};return _h.__checkEventHandler._$aop(function(_event){var _args=_event.args,_type=_args[0],_handler=_args[1],_id=_e._$id(_args[2]);switch(_type){case"mouseover":_event.stopped=!0;_event.value=_doMouseEnter._$bind(null,_id,_handler);break;case"mouseout":_event.stopped=!0;_event.value=_doMouseLeave._$bind(null,_id,_handler);break}})}();_h.__canFlashEventBubble=function(_wmode){return!0};_h.__removeIFrameKeepHistory=_h.__removeIFrameKeepHistory._$aop(function(_event){_event.stopped=!0})})();
(function(){var _=NEJ.P,_r=NEJ.R,_h=_("nej.h"),_e=_("nej.e"),_u=_("nej.u"),_v=_("nej.v"),_x=_("nej.x"),_reg=/\s+/,_cache={};var _doCheckBatchEvent=function(_added){var _arr=(arguments[2]||"").split(_reg);if(_arr.length>1){var _args=_r.slice.call(arguments,1);_u._$forEach(_arr,function(_value){_args[1]=_value;!_added?_v._$delEvent.apply(_v,_args):_v._$addEvent.apply(_v,_args)});return!0}};var _doClearElement=function(_element){_element=_e._$get(_element);if(!_element||!_cache[_element.id])return;var _empty=!0,_id=_element.id;_u._$forIn(_cache[_id],function(){_empty=!1;return!0});if(_empty)delete _cache[_id]};_v._$addEvent=_x._$addEvent=function(){var _doAddEventInCache=function(){var _args=_h.__checkEvent.apply(_h,arguments);if(!_args||!_args[2])return;var _tmp0=_e._$id(_args[0]),_tmp1=_cache[_tmp0]||{};_cache[_tmp0]=_tmp1;_tmp0=_args[4]||_args[1];var _tmp2=_tmp1[_tmp0]||[];_tmp1[_tmp0]=_tmp2;_tmp2.push({type:_args[1],func:_args[2],capt:!!_args[3],sfun:_args[5]||_args[2]});return _args.slice(0,4)};return function(){var _args=_r.slice.call(arguments,0);_args.unshift(!0);if(_doCheckBatchEvent.apply(null,_args)){return}var _args=_doAddEventInCache.apply(null,arguments);if(!!_args)_h.__addEvent.apply(_h,_args);return this}}();_v._$delEvent=_x._$delEvent=function(){var _doDelEventInCache=function(){var _argc=arguments,_tmp0=_e._$id(_argc[0]),_tmp1=_cache[_tmp0],_type=(_argc[1]||"").toLowerCase(),_event=_argc[2];if(!_tmp1||!_type||!_event)return;_tmp1=_tmp1[_type];if(!_tmp1)return;var _cflag=!!_argc[3],_index=_u._$indexOf(_tmp1,function(_emap){return _event==_emap.sfun&&_cflag==_emap.capt});if(_index<0)return;var _emap=_tmp1.splice(_index,1)[0];if(!_tmp1.length){delete _cache[_tmp0][_type]}return!_emap?null:[_e._$get(_tmp0),_emap.type,_emap.func,_emap.capt]};return function(){var _args=_r.slice.call(arguments,0);_args.unshift(!1);if(_doCheckBatchEvent.apply(null,_args)){return}var _args=_doDelEventInCache.apply(null,arguments);if(!!_args){_h.__delEvent.apply(_h,_args);_doClearElement(_args[0])}return this}}();_v._$clearEvent=_x._$clearEvent=function(){var _doClearByType=function(){var _argc=arguments,_tmp0=_e._$id(_argc[0]),_tmp1=_cache[_tmp0],_tmp2=(_argc[1]||"").toLowerCase();if(!_tmp1||!_tmp2)return;var _element=_e._$get(_tmp0);_u._$reverseEach(_tmp1[_tmp2],function(_emap,_index,_list){_h.__delEvent(_element,_emap.type,_emap.func,_emap.capt);_list.splice(_index,1)});delete _tmp1[_tmp2]};var _doClearAll=function(_element){_element=_e._$get(_element);if(!_element)return;var _id=_element.id;_u._$forIn(_cache[_id],function(_list,_type){_doClearByType(_id,_type)});delete _cache[_id]};return function(_element,_type){!_type?_doClearAll(_element):_doClearByType(_element,_type);_doClearElement(_element);return this}}();_v._$getElement=function(){var _exmap;var _doFilter=function(_name,_element){var _arr=_name.split(":");if(_arr.length>1){if(!_exmap)_exmap={c:_e._$hasClassName,d:_e._$dataset,a:_e._$attr};var _check=_exmap[_arr[0]];if(!!_check)return!!_check(_element,_arr[1]);_name=_arr[1]}return!!_e._$attr(_element,_name)||!!_e._$dataset(_element,_name)||_e._$hasClassName(_element,_name)};return function(_event){if(!_event)return null;var _element=_event.target||_event.srcElement,_filter=arguments[1];if(!_filter)return _element;if(_u._$isString(_filter))_filter=_doFilter._$bind(null,_filter);if(_u._$isFunction(_filter)){while(_element){if(!!_filter(_element))return _element;_element=_element.parentNode}return null}return _element}}();_v._$stop=function(_event){_v._$stopBubble(_event);_v._$stopDefault(_event);return this};_v._$stopBubble=function(_event){if(!!_event){!!_event.stopPropagation?_event.stopPropagation():_event.cancelBubble=!0}return this};_v._$stopDefault=function(_event){if(!!_event){!!_event.preventDefault?_event.preventDefault():_event.returnValue=!1}return this};_v._$stopClick=function(){var _inited=!1;var _doInitListener=function(){if(_inited)return;_inited=!0;_v._$addEvent(document,"click",_onDocumentClick,!0)};var _onDocumentClick=function(_event){var _element=_v._$getElement(_event),_stopped=_e._$dataset(_element,"stopped");if(_stopped=="true"){_v._$stop(_event);_e._$dataset(_element,"stopped","false")}};return function(_event){if(!_event)return;if(_event.type=="click"){_v._$stop(_event);return}_doInitListener();_e._$dataset(_v._$getElement(_event),"stopped","true")}}();_v._$pageX=function(_event){return _event.pageX!=null?_event.pageX:_event.clientX+_e._$getPageBox().scrollLeft};_v._$pageY=function(_event){return _event.pageY!=null?_event.pageY:_event.clientY+_e._$getPageBox().scrollTop};_v._$dispatchEvent=_x._$dispatchEvent=function(_element,_type,_options){var _args=_h.__checkEvent(_element,_type);if(!!_args)_h.__dispatchEvent(_args[0],_args[1],_options);return this};_("dbg").dumpEV=function(){return _cache};_x.isChange=!0})();
(function(){var _=NEJ.P,_o=NEJ.O,_f=NEJ.F,_g=_("nej.g"),_e=_("nej.e"),_u=_("nej.u"),_v=_("nej.v"),_h=_("nej.h"),_x=_("nej.x"),_cspol,_empol={};_e._$id=_x._$id=function(_element){_element=_e._$get(_element);if(!_element)return;var _id=!!_element.id?_element.id:"auto-id-"+_u._$randString(16);_element.id=_id;if(_e._$get(_id)!=_element)_empol[_id]=_element;return _id};_e._$get=_x._$get=function(_element){var _node=_empol[""+_element];if(!!_node)return _node;if(!_u._$isString(_element)&&!_u._$isNumber(_element))return _element;return document.getElementById(_element)};_e._$getChildren=_x._$getChildren=function(_element,_clazz){_element=_e._$get(_element);if(!_element)return null;var _list=_h.__getChildren(_element);if(!!_clazz)_u._$reverseEach(_list,function(_node,_index){if(!_e._$hasClassName(_node,_clazz))_list.splice(_index,1)});return _list};_e._$getByClassName=_x._$getByClassName=function(_element,_class){_element=_e._$get(_element);return!_element?null:_h.__getElementsByClassName(_element,_class.trim())};_e._$getSibling=_x._$getSibling=function(){var _doFilter=function(){return!0};return function(_element,_filter){_element=_e._$get(_element);if(!_element)return;var _conf={backward:!1,filter:_doFilter};if(_u._$isFunction(_filter)){_conf.filter=_filter}else{_conf=NEJ.X(_conf,_filter)}var _next=_conf.backward?_h.__previousSibling:_h.__nextSibling;while(_element=_next(_element)){if(_conf.filter(_element)){break}}return _element}}();_e._$getScrollViewPort=_x._$getScrollViewPort=function(_element){_element=_e._$get(_element);if(!!_element){_element=_element.parentNode;while(!!_element){if(_element.scrollHeight>_element.clientHeight)break;_element=_element.parentNode}if(!!_element)return _element}var _tmp1=document.body.scrollHeight,_tmp2=document.documentElement.scrollHeight;return _tmp2>=_tmp1?document.documentElement:document.body};_e._$getPageBox=function(){var _getClientBox=function(_list){var _result=0;_u._$forEach(_list,function(_size){if(!_size)return;if(!_result){_result=_size}else{_result=Math.min(_result,_size)}});return _result};return function(_document){var _doc=_document||document,_body0=_doc.body,_body1=_doc.documentElement,_result={scrollTop:Math.max(_body0.scrollTop,_body1.scrollTop),scrollLeft:Math.max(_body0.scrollLeft,_body1.scrollLeft),clientWidth:_getClientBox([_body0.clientWidth,_body0.offsetWidth,_body1.clientWidth,_body1.offsetWidth]),clientHeight:_getClientBox([_body0.clientHeight,_body0.offsetHeight,_body1.clientHeight,_body1.offsetHeight])};_result.scrollWidth=Math.max(_result.clientWidth,_body0.scrollWidth,_body1.scrollWidth);_result.scrollHeight=Math.max(_result.clientHeight,_body0.scrollHeight,_body1.scrollHeight);return _result}}();_e._$getMaxBox=function(_max,_org){var _result=NEJ.X({},_org),_mrto=_max.width/_max.height,_orto=_org.width/_org.height;if(_mrto>_orto&&_org.height>_max.height){_result.height=_max.height;_result.width=_result.height*_orto}if(_mrto<_orto&&_org.width>_max.width){_result.width=_max.width;_result.height=_result.width/_orto}return _result};_e._$align=function(){var _reg=/\s+/;var _fmap={left:function(){return 0},center:function(_box,_org){return(_box.width-_org.width)/2},right:function(_box,_org){return _box.width-_org.width},top:function(){return 0},middle:function(_box,_org){return(_box.height-_org.height)/2},bottom:function(_box,_org){return _box.height-_org.height}};return function(_box,_org,_align){var _result={},_arr=(_align||"").split(_reg),_top=_fmap[_arr[1]]||_fmap.middle,_left=_fmap[_arr[0]]||_fmap.center;_result.top=_top(_box,_org);_result.left=_left(_box,_org);return _result}}();_e._$hover=_x._$hover=function(_element,_clazz){_h.__hoverElement(_element,_clazz||_e._$dataset(_element,"hover")||"js-hover");return this};_e._$fixed=_x._$fixed=function(_element){_element=_e._$get(_element);if(!_element)return;_h.__fixedElement(_element)};_e._$highlight=_x._$highlight=function(){var _cache={},_distance=2;var _doTouchStart=function(_id,_clazz,_event){_cache[_id]=[_v._$pageX(_event),_v._$pageY(_event)];_e._$addClassName(_id,_clazz)};var _doTouchMove=function(_id,_clazz,_event){var _point=_cache[_id];if(!_u._$isArray(_point))return;var _dx=Math.abs(_v._$pageX(_event)-_point[0]),_dy=Math.abs(_v._$pageY(_event)-_point[1]);if(_dx>_distance||_dy>_distance)_doTouchEnd(_id,_clazz)};var _doTouchEnd=function(_id,_clazz){if(_u._$isArray(_cache[_id])){_cache[_id]=-1;_e._$delClassName(_id,_clazz)}};return function(_element,_clazz){var _id=_e._$id(_element);if(!_id||_cache[_id]!=null)return;_cache[_id]=-1;_clazz=_clazz||_e._$dataset(_id,"highlight")||"js-highlight";_v._$addEvent(_id,"touchstart",_doTouchStart._$bind(null,_id,_clazz));_v._$addEvent(document,"touchmove",_doTouchMove._$bind(null,_id,_clazz));_v._$addEvent(document,"touchend",_doTouchEnd._$bind(null,_id,_clazz));_v._$addEvent(document,"touchcancel",_doTouchEnd._$bind(null,_id,_clazz))}}();_e._$toggle=_x._$toggle=function(){var _doClick=function(_id,_clazz,_ontoggle){var _element=_e._$get(_id),_event={clazz:_clazz,target:_element};if(_e._$hasClassName(_element,_clazz)){_event.toggled=!1;_e._$delClassName(_element,_clazz)}else{_event.toggled=!0;_e._$addClassName(_element,_clazz)}_ontoggle.call(null,_event)};return function(_element,_options){_element=_e._$get(_element);if(!!_element){var _obj={ontoggle:_f,clazz:"js-toggle",element:_element.parentNode};if(_u._$isString(_options)){var _node=_e._$get(_options);!!_node?_obj.element=_node:_obj.clazz=_options}else{NEJ.EX(_obj,_options);_obj.element=_e._$get(_obj.element)}var _id=_e._$id(_obj.element);_v._$addEvent(_element,"click",_doClick._$bind(null,_id,_obj.clazz,_obj.ontoggle||_f))}return this}}();_e._$focus=_x._$focus=function(_element,_options){_element=_e._$get(_element);if(!_element)return;var _mode=0,_clazz="js-focus";if(_u._$isNumber(_options)){_mode=_options}else if(_u._$isString(_options)){_clazz=_options}else if(_u._$isObject(_options)){_mode=_options.mode||_mode;_clazz=_options.clazz||_clazz}var _value=parseInt(_e._$dataset(_element,"mode"));if(!isNaN(_value))_mode=_value;_value=_e._$dataset(_element,"focus");if(!!_value)_clazz=_value;_h.__focusElement(_element,_mode,_clazz);return this};_e._$create=function(){var _map={a:{href:"#",hideFocus:!0},style:{type:"text/css"},link:{type:"text/css",rel:"stylesheet"},iframe:{frameBorder:0},script:{defer:!0,type:"text/javascript"}};return function(_tag,_class,_parent){var _element=document.createElement(_tag);NEJ.X(_element,_map[_tag.toLowerCase()]);if(!!_class)_element.className=_class;_parent=_e._$get(_parent);if(!!_parent)_parent.appendChild(_element);return _element}}();_e._$createXFrame=function(){var _getFrameSrc=function(){if(location.hostname==document.domain)return"about:blank";return'javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();})();'};var _getFrameWithName=function(_name){_name=_name.trim();if(!_name)return _e._$create("iframe");var _iframe;try{_iframe=document.createElement('<iframe name="'+_name+'"></iframe>');_iframe.frameBorder=0}catch(e){_iframe=_e._$create("iframe");_iframe.name=_name}return _iframe};return function(_options){_options=_options||_o;var _iframe=_getFrameWithName(_options.name||"");if(!_options.visible)_iframe.style.display="none";if(_u._$isFunction(_options.onload))_v._$addEvent(_iframe,"load",function(_event){if(!_iframe.src)return;_v._$clearEvent(_iframe,"load");_options.onload(_event)});var _parent=_options.parent;if(_u._$isFunction(_parent)){try{_parent(_iframe)}catch(e){}}else{(_e._$get(_parent)||document.body).appendChild(_iframe)}var _src=_options.src||_getFrameSrc();window.setTimeout(function(){_iframe.src=_src},0);return _iframe}}();_e._$remove=_x._$remove=function(){var _clearImage=function(_image){_image.src=_g._$BLANK_IMAGE};var _clearFrame=function(_frame){_frame.src="about:blank"};return function(_element,_nocls){_element=_e._$get(_element);if(!_element)return this;if(!_nocls)_v._$clearEvent(_element);delete _empol[_element.id];var _tag=_element.tagName;if(_tag=="IFRAME"){_clearFrame(_element)}else if(_tag=="IMG"){_clearImage(_element)}else if(!!_element.getElementsByTagName){_u._$forEach(_element.getElementsByTagName("img"),_clearImage);_u._$forEach(_element.getElementsByTagName("iframe"),_clearFrame)}if(!!_element.parentNode){_element.parentNode.removeChild(_element)}return this}}();_e._$removeByEC=_x._$removeByEC=function(){var _cache=document.createDocumentFragment();_("dbg").dumpFRG=function(){return _cache};return function(_element){_element=_e._$get(_element);if(!!_element)_cache.appendChild(_element);return this}}();_e._$clearChildren=_x._$clearChildren=function(_element){_element=_e._$get(_element);if(!_element)return;_u._$reverseEach(_element.childNodes,function(_node){_e._$remove(_node)})};_e._$wrapInline=_x._$wrapInline=function(){var _clazz,_reg0=/\s+/;var _doInitStyle=function(){if(!!_clazz)return;_clazz=_e._$pushCSSText(".#<uispace>{position:relative;zoom:1;}.#<uispace>-show{position:absolute;top:0;left:100%;cursor:text;white-space:nowrap;overflow:hidden;}");_e._$dumpCSSText()};return function(_element,_options){_element=_e._$get(_element);if(!_element)return;_doInitStyle();_options=_options||_o;var _parent=_element.parentNode;if(!_e._$hasClassName(_parent,_clazz)){_parent=_e._$create("span",_clazz);_element.insertAdjacentElement("beforeBegin",_parent);_parent.appendChild(_element)}var _nid=_options.nid||"",_node=_e._$getByClassName(_parent,_nid||_clazz+"-show")[0];if(!_node){var _klass=((_options.clazz||"")+" "+_nid).trim();_klass=_clazz+"-show"+(!_klass?"":" ")+_klass;_node=_e._$create(_options.tag||"span",_klass);_parent.appendChild(_node)}var _klass=_options.clazz;if(!!_klass){_klass=(_klass||"").trim().split(_reg0)[0]+"-parent";_e._$addClassName(_parent,_klass)}return _node}}();_e._$dataset=_x._$dataset=function(){var _dataset={},_tag="data-",_reg=/\-(.{1})/gi;var _init=function(_element){var _id=_e._$id(_element);if(!!_dataset[_id])return;var _map={};_u._$forEach(_element.attributes,function(_node){var _key=_node.nodeName;if(_key.indexOf(_tag)!=0)return;_key=_key.replace(_tag,"").replace(_reg,function($1,$2){return $2.toUpperCase()});_map[_key]=_node.nodeValue||""});_dataset[_id]=_map};return function(_element,_key,_value){_element=_e._$get(_element);if(!_element)return null;var _set=_element.dataset;if(!_set){_init(_element);_set=_dataset[_element.id]}if(_value!==undefined)_set[_key]=_value;return _set[_key]}}();_e._$attr=_x._$attr=function(_element,_name,_value){_element=_e._$get(_element);if(!_element)return"";if(_value!==undefined&&!!_element.setAttribute)_element.setAttribute(_name,_value);return _h.__getAttribute(_element,_name)};_e._$html2node=function(_html){var _div=document.createElement("div");_div.innerHTML=_html;var _list=_e._$getChildren(_div);return _list.length>1?_div:_list[0]};_e._$dom2xml=_x._$dom2xml=function(_element){_element=_e._$get(_element);return!_element?"":_h.__serializeDOM2XML(_element)};_e._$xml2dom=function(_xml){_xml=(_xml||"").trim();return!_xml?null:_h.__parseDOMFromXML(_xml)};_e._$text2type=function(_text,_type){_text=_text||"";switch(_type){case"xml":_text=_e._$xml2dom(_text);break;case"json":try{_text=JSON.parse(_text)}catch(ex){_text=null}break}return _text};_e._$offset=_x._$offset=function(){var _isRoot=function(_element){return _element==document.body||_element==document.documentElement};return function(_from,_to){_from=_e._$get(_from);if(!_from)return null;_to=_e._$get(_to)||null;var _result={x:0,y:0},_isroot,_delta,_border;while(!!_from&&_from!=_to){_isroot=_isRoot(_from);_delta=_isroot?0:_from.scrollLeft;_border=parseInt(_e._$getStyle(_from,"borderLeftWidth"))||0;_result.x+=_from.offsetLeft+_border-_delta;_delta=_isroot?0:_from.scrollTop;_border=parseInt(_e._$getStyle(_from,"borderTopWidth"))||0;_result.y+=_from.offsetTop+_border-_delta;_from=_from.offsetParent}return _result}}();_e._$scrollTo=_x._$scrollTo=function(_element){var _offset=_e._$offset(_element);window.scrollTo(_offset.x,_offset.y);return this};_e._$matrix=function(_matrix){_matrix=(_matrix||"").trim();return _h.__getCSSMatrix(_matrix)};_e._$css3d=_x._$css3d=function(_element,_name,_map){_element=_e._$get(_element);if(!_element)return this;var _value=_h.__getTransformValue(_name,_map);if(!_value)return this;_e._$setStyle(_element,"transform",_value);return this};_e._$style=_x._$style=function(_element,_map){_element=_e._$get(_element);if(!!_element)_u._$forIn(_map,function(_value,_name){_e._$setStyle(_element,_name,_value)});return this};_e._$cursor=_x._$cursor=function(_textarea,_options){_textarea=_e._$get(_textarea);if(!_textarea)return{start:0,end:0};if(_u._$isNumber(_options))_options={start:_options,end:_options};if(_options!=null){if(_options.end==null)_options.end=_options.start||0;_h.__setCursorPosition(_textarea,_options)}else{_options=_h.__getCursorPosition(_textarea)}return _options};_e._$setStyle=_x._$setStyle=function(_element,_name,_value){_element=_e._$get(_element);if(!!_element)_h.__applyStyle(_element,_name,_value);return this};_e._$getStyle=_x._$getStyle=function(_element,_name){_element=_e._$get(_element);if(!_element)return"";return _h.__getStyleValue(_element,_name)};_e._$addStyle=function(){var _reg=/[\s\r\n]+/gi;return function(_style){_style=(_style||"").trim().replace(_reg," ");if(!_style)return;var _node=_e._$create("style");document.head.appendChild(_node);_h.__applyCSSText(_node,_h.__filterCSSText(_style));return _node}}();_e._$addScript=function(_script){try{_script=_script.trim();if(!!_script)return(new Function(_script))()}catch(ex){console.error(ex.message);console.error(ex.stack)}};_e._$pushCSSText=function(){var _reg=/#<.*?>/g,_seed=+(new Date);return function(_css){if(!_cspol)_cspol=[];var _class="auto-"+_seed++;_cspol.push(_css.replace(_reg,_class));return _class}}();_e._$dumpCSSText=function(){if(!!_cspol){_e._$addStyle(_cspol.join(""));_cspol=null}return this};_e._$appendCSSText=function(_style,_css){_style=_e._$get(_style);return!_style?null:_h.__appendCSSText(_style,_css)};_e._$addClassName=_x._$addClassName=function(){_h.__addClassName.apply(_h,arguments);return this};_e._$delClassName=_x._$delClassName=function(){_h.__delClassName.apply(_h,arguments);return this};_e._$replaceClassName=_x._$replaceClassName=function(){_h.__replaceClassName.apply(_h,arguments);return this};_e._$hasClassName=_x._$hasClassName=function(){return _h.__hasClassName.apply(_h,arguments)};if(!document.head)document.head=document.getElementsByTagName("head")[0]||document.body;_("dbg").dumpEL=function(){return _empol};_x.isChange=!0})();
(function(){var _=NEJ.P,_o=NEJ.O,_r=NEJ.R,_f=NEJ.F,_e=_("nej.e"),_h=_("nej.h"),_u=_("nej.u");var _isTypeOf=function(_data,_type){try{_type=_type.toLowerCase();if(_data===null)return _type=="null";if(_data===undefined)return _type=="undefined";return _o.toString.call(_data).toLowerCase()=="[object "+_type+"]"}catch(e){return!1}};_u._$isFunction=function(_data){return _isTypeOf(_data,"function")};_u._$isString=function(_data){return _isTypeOf(_data,"string")};_u._$isNumber=function(_data){return _isTypeOf(_data,"number")};_u._$isBoolean=function(_data){return _isTypeOf(_data,"boolean")};_u._$isDate=function(_data){return _isTypeOf(_data,"date")};_u._$isArray=function(_data){return _isTypeOf(_data,"array")};_u._$isObject=function(_data){return _isTypeOf(_data,"object")};_u._$length=function(){var _reg=/[^\x00-\xfff]/g;return function(_content){return(""+(_content||"")).replace(_reg,"**").length}}();_u._$indexOf=function(_list,_item){var _filter=_u._$isFunction(_item)?_item:function(_value){return _value===_item},_index=_u._$forIn(_list,_filter);return _index!=null?_index:-1};_u._$binSearch=function(){var _docheck;var _doSearch=function(_list,_low,_high){if(_low>_high)return-1;var _middle=Math.ceil((_low+_high)/2),_result=_docheck(_list[_middle],_middle,_list);if(_result==0)return _middle;if(_result<0)return _doSearch(_list,_low,_middle-1);return _doSearch(_list,_middle+1,_high)};return function(_list,_check){_docheck=_check||_f;return _doSearch(_list,0,_list.length-1)}}();_u._$reverseEach=function(_list,_callback,_this){if(!_list||!_list.length||!_u._$isFunction(_callback))return null;for(var i=_list.length-1;i>=0;i--)if(!!_callback.call(_this,_list[i],i,_list))return i;return null};_u._$forEach=function(_list,_callback,_this){if(!_list||!_list.length||!_u._$isFunction(_callback))return this;if(!!_list.forEach){_list.forEach(_callback,_this);return this}for(var i=0,l=_list.length;i<l;i++)_callback.call(_this,_list[i],i,_list);return this};_u._$forIn=function(_list,_callback,_this){if(!_list||!_u._$isFunction(_callback))return null;if(_list.length!=null){if(_list.length>0)for(var i=0,l=_list.length;i<l;i++)if(!!_callback.call(_this,_list[i],i,_list))return i}if(_u._$isObject(_list)){for(var x in _list)if(_list.hasOwnProperty(x)&&!!_callback.call(_this,_list[x],x,_list))return x}return null};_u._$mergeList=function(_slist,_dlist,_options){_slist=_slist||[];_options=_options||_o;var _added=!!_options.union,_begin=!!_options.begin,_compare=_options.compare,_floop=_added&&_begin?_u._$reverseEach:_u._$forEach;_floop(_dlist,function(_item){if(!!_compare)_compare=_compare._$bind2(_item);var _index=_u._$indexOf(_slist,_compare||_item);if(_index>=0)_slist.splice(_index,1);if(_added)_slist[_begin?"unshift":"push"](_item)});return _slist};_u._$encode=function(_map,_content){if(!_map||!_content||!_content.replace)return _content||"";return _content.replace(_map.r,function($1){var _result=_map[!_map.i?$1.toLowerCase():$1];return _result!=null?_result:$1})};_u._$escape=function(){var _reg=/<br\/?>$/,_map={r:/\<|\>|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":""};return function(_content){_content=_u._$encode(_map,_content);return _content.replace(_reg,"<br/><br/>")}}();_u._$unescape=function(){var _map={r:/\&(?:lt|gt|amp|nbsp|#39|quot)\;|\<br\/\>/gi,"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#39;":"'","&quot;":'"',"<br/>":"\n"};return function(_content){return _u._$encode(_map,_content)}}();_u._$format=function(){var _map={i:!0,r:/\byyyy|yy|MM|cM|eM|M|dd|d|HH|H|mm|ms|ss|m|s|w|ct|et\b/g},_12cc=["上午","下午"],_12ec=["A.M.","P.M."],_week=["日","一","二","三","四","五","六"],_cmon=["一","二","三","四","五","六","七","八","九","十","十一","十二"],_emon=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];var _fmtnmb=function(_number){_number=parseInt(_number)||0;return(_number<10?"0":"")+_number};var _fmtclc=function(_hour){return _hour<12?0:1};return function(_time,_format,_12time){if(!_time||!_format)return"";_time=_u._$var2date(_time);_map.yyyy=_time.getFullYear();_map.yy=(""+_map.yyyy).substr(2);_map.M=_time.getMonth()+1;_map.MM=_fmtnmb(_map.M);_map.eM=_emon[_map.M-1];_map.cM=_cmon[_map.M-1];_map.d=_time.getDate();_map.dd=_fmtnmb(_map.d);_map.H=_time.getHours();_map.HH=_fmtnmb(_map.H);_map.m=_time.getMinutes();_map.mm=_fmtnmb(_map.m);_map.s=_time.getSeconds();_map.ss=_fmtnmb(_map.s);_map.ms=_time.getMilliseconds();_map.w=_week[_time.getDay()];var _cc=_fmtclc(_map.H);_map.ct=_12cc[_cc];_map.et=_12ec[_cc];if(!!_12time){_map.H=_map.H%12}return _u._$encode(_map,_format)}}();_u._$var2date=function(_time){var _date=_time;if(_u._$isString(_time))_date=new Date(Date.parse(_time));if(!_u._$isDate(_time))_date=new Date(_time);return _date};_u._$fixed=function(_float,_fraction){return(new Number(_float)).toFixed(_fraction)};_u._$absolute=function(){var _reg0=/([^\/:])\/.*$/,_reg1=/\/[^\/]+$/,_reg2=/[#\?]/,_base=location.href.split(/[?#]/)[0],_anchor=document.createElement("a");var _isAbsolute=function(_uri){return(_uri||"").indexOf("://")>0};var _doFormat=function(_uri){return(_uri||"").split(_reg2)[0].replace(_reg1,"/")};var _doMergeURI=function(_uri,_root){if(_uri.indexOf("/")==0)return _root.replace(_reg0,"$1")+_uri;return _doFormat(_root)+_uri};_base=_doFormat(_base);return function(_uri,_root){_uri=(_uri||"").trim();if(!_isAbsolute(_root))_root=_base;if(!_uri)return _root;if(_isAbsolute(_uri))return _uri;_uri=_doMergeURI(_uri,_root);_anchor.href=_uri;_uri=_anchor.href;return _isAbsolute(_uri)?_uri:_anchor.getAttribute("href",4)}}();_u._$url2origin=function(){var _reg=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(_url){if(_reg.test(_url||""))return RegExp.$1.toLowerCase();return""}}();_u._$dom2object=function(_dom,_obj){if(!_dom)return _obj;var _name=_dom.tagName.toLowerCase(),_list=_e._$getChildren(_dom);if(!_list||!_list.length){_obj[_name]=_dom.textContent||_dom.text||"";return _obj}var _tmp={};_obj[_name]=_tmp;_u._$forEach(_list,function(_node){_u._$dom2object(_node,_tmp)});return _obj};_u._$xml2object=function(_xml){try{return _u._$dom2object(_e._$xml2dom(_xml),{})}catch(ex){return null}};_u._$string2object=function(_string,_split){var _obj={};_u._$forEach((_string||"").split(_split),function(_name){var _brr=_name.split("=");if(!_brr||!_brr.length)return;var _key=_brr.shift();if(!_key)return;_obj[decodeURIComponent(_key)]=decodeURIComponent(_brr.join("="))});return _obj};_u._$object2string=function(_object,_split,_encode){if(!_object)return"";var _arr=[];_u._$forIn(_object,function(_value,_key){if(_u._$isFunction(_value)){return}if(_u._$isDate(_value)){_value=_value.getTime()}else if(_u._$isArray(_value)){_value=_value.join(",")}else if(_u._$isObject(_value)){_value=JSON.stringify(_value)}if(!!_encode){_value=encodeURIComponent(_value)}_arr.push(encodeURIComponent(_key)+"="+_value)});return _arr.join(_split||",")};_u._$query2object=function(_query){return _u._$string2object(_query,"&")};_u._$object2query=function(_object){return _u._$object2string(_object,"&",!0)};_u._$object2array=function(_object){return _h.__col2array(_object)};_u._$array2object=function(_list,_filter){var _result={};_u._$forEach(_list,function(_item){var _key=_item;if(!!_filter){_key=_filter(_item)}_result[_key]=_item});return _result};_u._$number2string=function(_number,_limit){var _len1=(""+_number).length,_len2=Math.max(1,parseInt(_limit)||0),_delta=_len2-_len1;if(_delta>0){_number=(new Array(_delta+1)).join("0")+_number}return""+_number};_u._$safeDelete=function(_object,_name){if(!_u._$isArray(_name)){try{delete _object[_name]}catch(e){_object[_name]=undefined}return this}_u._$forEach(_name,_u._$safeDelete._$bind(_u,_object));return this};_u._$randString=function(){var _chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return function(_length){_length=_length||10;var _result=[];for(var i=0,_rnum;i<_length;++i){_rnum=Math.floor(Math.random()*_chars.length);_result.push(_chars.charAt(_rnum))}return _result.join("")}}();_u._$randNumber=function(_min,_max){return Math.floor(Math.random()*(_max-_min)+_min)};_u._$randNumberString=function(_length){_length=Math.max(0,Math.min(_length||8,30));var _min=Math.pow(10,_length-1),_max=_min*10;return _u._$randNumber(_min,_max).toString()};_u._$uniqueID=function(){var _seed=+(new Date);return function(){return""+_seed++}}()})();
(function(){if(typeof TrimPath==="undefined"){TrimPath={};if(typeof exports!=="undefined")TrimPath=exports}var _tcache={},_stack=[],_rspc=/\s+/g,_seed=+(new Date),_trim,_config,_vars;var _doParseVars=function(){var _reg0=/^\s*[\[\{'"].*?[\]\}'"]\s*$/,_reg1=/[\&\|\<\>\+\-\*\/\%\,\(\)\[\]\?\:\!\=\;]/,_reg2=/^(?:defined|null|undefined|true|false|instanceof|new|this|typeof|\$v|[\d]+)$/i,_reg3=/^new\s+/,_reg4=/['"]/;var _doParseSimple=function(_value){if(_reg0.test(_value))return;_value=_value.split(".")[0].trim();if(!_value||_reg4.test(_value))return;_value=_value.replace(_reg3,"");try{if(_reg2.test(_value))return;_vars[_value]=1}catch(e){}};return function(_content){_content=_content||"";if(!_content||_reg0.test(_content))return;var _arr=_content.split(_reg1);for(var i=0,l=_arr.length;i<l;i++)_doParseSimple(_arr[i])}}();var _doParsePrefixFor=function(_part){if(_part[2]!="in")throw"bad for loop statement: "+_part.join(" ");_stack.push(_part[1]);_doParseVars(_part[3]);return"var __HASH__"+_part[1]+" = "+_part[3]+","+_part[1]+","+_part[1]+"_count=0;"+"if (!!__HASH__"+_part[1]+")"+"for(var "+_part[1]+"_key in __HASH__"+_part[1]+"){"+_part[1]+" = __HASH__"+_part[1]+"["+_part[1]+"_key];"+"if (typeof("+_part[1]+')=="function") continue;'+_part[1]+"_count++;"};var _doParsePrefixForElse=function(){var _part=_stack[_stack.length-1];return"}; if(!__HASH__"+_part+"||!"+_part+"_count){"};var _doParsePrefixForEnd=function(){_stack.pop();return"};"};var _doParsePrefixList=function(_part){if(_part[2]!="as")throw"bad for list loop statement: "+_part.join(" ");var _seq=_part[1].split("..");if(_seq.length>1){_doParseVars(_seq[0]);_doParseVars(_seq[1]);return"for(var "+_part[3]+","+_part[3]+"_index=0,"+_part[3]+"_beg="+_seq[0]+","+_part[3]+"_end="+_seq[1]+","+_part[3]+"_length=parseInt("+_part[3]+"_end-"+_part[3]+"_beg+1);"+_part[3]+"_index<"+_part[3]+"_length;"+_part[3]+"_index++){"+_part[3]+" = "+_part[3]+"_beg+"+_part[3]+"_index;"}else{_doParseVars(_part[1]);return"for(var __LIST__"+_part[3]+" = "+_part[1]+","+_part[3]+","+_part[3]+"_index=0,"+_part[3]+"_length=__LIST__"+_part[3]+".length;"+_part[3]+"_index<"+_part[3]+"_length;"+_part[3]+"_index++){"+_part[3]+" = __LIST__"+_part[3]+"["+_part[3]+"_index];"}};var _doParsePrefixMacro=function(_part){if(!_part||!_part.length)return;_part.shift();var _name=_part[0].split("(")[0];return"var "+_name+" = function"+_part.join("").replace(_name,"")+"{var __OUT=[];"};var _doParsePrefixInline=function(_part){if(!_part[1])throw"bad include statement: "+_part.join(" ");return'if (typeof inline == "function"){__OUT.push(inline('};var _doParsePrefixCondition=function(_prefix,_part){_doParseVars(_part.slice(1).join(" "));return _prefix};var _doParsePrefixConditionIF=function(_part){return _doParsePrefixCondition("if(",_part)};var _doParsePrefixConditionELSEIF=function(_part){return _doParsePrefixCondition("}else if(",_part)};var _doParsePrefixConditionVAR=function(_part){return _doParsePrefixCondition("var ",_part)};_config={blk:/^\{(cdata|minify|eval)/i,tag:"forelse|for|list|if|elseif|else|var|macro|break|notrim|trim|include",def:{"if":{pfix:_doParsePrefixConditionIF,sfix:"){",pmin:1},"else":{pfix:"}else{"},elseif:{pfix:_doParsePrefixConditionELSEIF,sfix:"){",pdft:"true"},"/if":{pfix:"}"},"for":{pfix:_doParsePrefixFor,pmin:3},forelse:{pfix:_doParsePrefixForElse},"/for":{pfix:_doParsePrefixForEnd},list:{pfix:_doParsePrefixList,pmin:3},"/list":{pfix:"};"},"break":{pfix:"break;"},"var":{pfix:_doParsePrefixConditionVAR,sfix:";"},macro:{pfix:_doParsePrefixMacro},"/macro":{pfix:'return __OUT.join("");};'},trim:{pfix:function(){_trim=!0}},"/trim":{pfix:function(){_trim=null}},inline:{pfix:_doParsePrefixInline,pmin:1,sfix:"));}"}},ext:{seed:function(_prefix){return(_prefix||"")+""+_seed},"default":function(_value,_default){return _value||_default}}};var _doParseStatement=function(){var _rbrc=/\\([\{\}])/g;return function(_content,_out){_content=_content.replace(_rbrc,"$1");var _part=_content.slice(1,-1).split(_rspc),_conf=_config.def[_part[0]];if(!_conf){_doParseSectionText(_content,_out);return}if(!!_conf.pmin&&_conf.pmin>=_part.length)throw"Statement needs more parameters:"+_content;_out.push(!!_conf.pfix&&typeof _conf.pfix!="string"?_conf.pfix(_part):_conf.pfix||"");if(!!_conf.sfix){if(_part.length<=1){if(!!_conf.pdft)_out.push(_conf.pdft)}else{for(var i=1,l=_part.length;i<l;i++){if(i>1)_out.push(" ");_out.push(_part[i])}}_out.push(_conf.sfix)}}}();var _doParseExpression=function(_exps,_out){if(!_exps||!_exps.length)return;if(_exps.length==1){var _var=_exps.pop();_doParseVars(_var);_out.push(_var==""?'""':_var);return}var _exp=_exps.pop().split(":");_out.push("__MDF['"+_exp.shift()+"'](");_doParseExpression(_exps,_out);if(_exp.length>0){var _args=_exp.join(":");_doParseVars(_args);_out.push(","+_args)}_out.push(")")};var _doParseSectionText=function(_content,_out){if(!_content)return;var _lines=_content.split("\n");if(!_lines||!_lines.length)return;for(var i=0,l=_lines.length,_line;i<l;i++){_line=_lines[i];if(!!_trim){_line=_line.trim();if(!_line)continue}_doParseSectionTextLine(_line,_out);if(!!_trim&&i<l-1)_out.push("__OUT.push('\\n');")}};var _doParseSectionTextLine=function(){var _raor=/\|\|/g,_rvor=/#@@#/g;return function(_content,_out){var _prvmrkend="}",_prvexpend=-1,_length=_content.length,_begin,_end,_begexp,_endexp,_exparr;while(_prvexpend+_prvmrkend.length<_length){_begin="${";_end="}";_begexp=_content.indexOf(_begin,_prvexpend+_prvmrkend.length);if(_begexp<0)break;if(_content.charAt(_begexp+2)=="%"){_begin="${%";_end="%}"}_endexp=_content.indexOf(_end,_begexp+_begin.length);if(_endexp<0)break;_doParseText(_content.substring(_prvexpend+_prvmrkend.length,_begexp),_out);_exparr=_content.substring(_begexp+_begin.length,_endexp).replace(_raor,"#@@#").split("|");for(var i=0,l=_exparr.length;i<l;_exparr[i]=_exparr[i].replace(_rvor,"||"),i++);_out.push("__OUT.push(");_doParseExpression(_exparr,_out);_out.push(");");_prvmrkend=_end;_prvexpend=_endexp}_doParseText(_content.substring(_prvexpend+_prvmrkend.length),_out)}}();var _doParseText=function(){var _map={r:/\n|\\|\'/g,"\n":"\\n","\\":"\\\\","'":"\\'"};var _doEncode=function(_content){return(_content||"").replace(_map.r,function($1){return _map[$1]||$1})};return function(_content,_out){if(!_content)return;_out.push("__OUT.push('"+_doEncode(_content)+"');")}}();var _doParseTemplate=function(){var _rtab=/\t/g,_rnln=/\n/g,_rlne=/\r\n?/g;var _doSearchEnd=function(_content,_begin){var _index=_content.indexOf("}",_begin+1);while(_content.charAt(_index-1)=="\\"){_index=_content.indexOf("}",_index+1)}return _index};var _doParseVarMap=function(){var _arr=[],_arg=arguments[0];for(var x in _arg){x=(x||"").trim();if(!x)continue;_arr.push(x+"=$v('"+x+"')")}return _arr.length>0?"var "+_arr.join(",")+";":""};return function(_content){_vars={};_content=_content.replace(_rlne,"\n").replace(_rtab,"    ");var _ftxt=["if(!__CTX) return '';",""];_ftxt.push("function $v(__NAME){var v = __CTX[__NAME];return v==null?window[__NAME]:v;};");_ftxt.push("var defined=function(__NAME){return __CTX[__NAME]!=null;},");_ftxt.push("__OUT=[];");var _prvend=-1,_length=_content.length;var _stmtbeg,_stmtend,_statement,_blockrx,_blktmp,_blkend,_blkmrk,_blktxt;while(_prvend+1<_length){_stmtbeg=_prvend;_stmtbeg=_content.indexOf("{",_stmtbeg+1);while(_stmtbeg>=0){_stmtend=_doSearchEnd(_content,_stmtbeg);_statement=_content.substring(_stmtbeg,_stmtend);_blockrx=_statement.match(_config.blk);if(!!_blockrx){_blktmp=_blockrx[1].length+1;_blkend=_content.indexOf("}",_stmtbeg+_blktmp);if(_blkend>=0){_blkmrk=_blkend-_stmtbeg-_blktmp<=0?"{/"+_blockrx[1]+"}":_statement.substr(_blktmp+1);_blktmp=_content.indexOf(_blkmrk,_blkend+1);if(_blktmp>=0){_doParseSectionText(_content.substring(_prvend+1,_stmtbeg),_ftxt);_blktxt=_content.substring(_blkend+1,_blktmp);switch(_blockrx[1]){case"cdata":_doParseText(_blktxt,_ftxt);break;case"minify":_doParseText(_blktxt.replace(_rnln," ").replace(_rspc," "),_ftxt);break;case"eval":if(!!_blktxt)_ftxt.push("__OUT.push((function(){"+_blktxt+"})());");break}_stmtbeg=_prvend=_blktmp+_blkmrk.length-1}}}else if(_content.charAt(_stmtbeg-1)!="$"&&_content.charAt(_stmtbeg-1)!="\\"&&_statement.substr(_statement.charAt(1)=="/"?2:1).search(_config.tag)==0){break}_stmtbeg=_content.indexOf("{",_stmtbeg+1)}if(_stmtbeg<0)break;_stmtend=_doSearchEnd(_content,_stmtbeg);if(_stmtend<0)break;_doParseSectionText(_content.substring(_prvend+1,_stmtbeg),_ftxt);_doParseStatement(_content.substring(_stmtbeg,_stmtend+1),_ftxt);_prvend=_stmtend}_doParseSectionText(_content.substring(_prvend+1),_ftxt);_ftxt.push(';return __OUT.join("");');_ftxt[1]=_doParseVarMap(_vars);_vars=null;return new Function("__CTX","__MDF",_ftxt.join(""))}}();TrimPath.seed=function(){return _seed};TrimPath.merge=function(){var _fcache={};TrimPath.dump=function(){return{func:_fcache,text:_tcache}};return function(_sn,_data,_extend){try{_data=_data||{};if(!_fcache[_sn]&&!_tcache[_sn])return"";if(!_fcache[_sn]){_fcache[_sn]=_doParseTemplate(_tcache[_sn]);delete _tcache[_sn]}if(!!_extend){for(var x in _config.ext)if(!_extend[x])_extend[x]=_config.ext[x]}return _fcache[_sn](_data,_extend||_config.ext)}catch(ex){return ex.message||""}}}();TrimPath.parse=function(){var _xeed=+(new Date);return function(_content,_sn){if(!_content)return"";_sn=_sn||"ck_"+_xeed++;_tcache[_sn]=_content;return _sn}}()})();
(function(){var _=NEJ.P,_e=_("nej.e"),_u=_("nej.u"),_ext={};_e._$getHtmlTemplateSeed=TrimPath.seed;_e._$getHtmlTemplate=function(){var _doInline=function(_id){return!_e._$getTextTemplate?"":_e._$getTextTemplate(_id)};return function(_sn,_data,_extend){_data=_data||{};_data.inline=_doInline;_extend=NEJ.X(NEJ.X({},_ext),_extend);_extend.rand=_u._$randNumberString;_extend.format=_u._$format;_extend.escape=_u._$escape;_extend.inline=_doInline;return TrimPath.merge(_sn,_data,_extend)}}();_e._$addHtmlTemplate=function(_content,_keep){if(!_content)return"";var _sn,_element=_e._$get(_content);if(!!_element){_sn=_element.id;_content=_element.value||_element.innerText;if(!_keep)_e._$remove(_element)}return TrimPath.parse(_content,_sn)};_e._$renderHtmlTemplate=function(_parent,_sn,_data,_extend){_parent=_e._$get(_parent);if(!!_parent)_parent.innerHTML=_e._$getHtmlTemplate(_sn,_data,_extend);return this};_e._$registJSTExt=function(_map){NEJ.X(_ext,_map)};_("dbg").dumpJST=function(){return TrimPath.dump()}})();
(function(){var _=NEJ.P,_o=NEJ.O,_r=NEJ.R,_f=NEJ.F,_v=_("nej.v"),_u=_("nej.u"),_p=_("nej.ut"),_pro;if(!!_p._$$Event)return;_p._$$Event=NEJ.C();_pro=_p._$$Event.prototype;_p._$$Event._$allocate=function(_options){_options=_options||{};var _instance=!!this.__pool&&this.__pool.shift();if(!_instance){_instance=new this(_options);this.__inst__=(this.__inst__||0)+1}_instance.__reset(_options);return _instance};_p._$$Event._$recycle=function(){var _doRecycle=function(_item,_index,_list){_item._$recycle();_list.splice(_index,1)};return function(_instance){if(!_instance)return null;if(!_u._$isArray(_instance)){if(!(_instance instanceof this)){var _class=_instance.constructor;if(!!_class._$recycle)_class._$recycle(_instance);return null}if(_instance==this.__instance)delete this.__instance;if(_instance==this.__inctanse)delete this.__inctanse;_instance.__destroy();if(!this.__pool)this.__pool=[];if(_u._$indexOf(this.__pool,_instance)<0){this.__pool.push(_instance)}return null}_u._$reverseEach(_instance,_doRecycle,this)}}();_p._$$Event._$getInstance=function(_options){_options=_options||{};if(!this.__instance)this.__instance=this._$allocate(_options);return this.__instance};_p._$$Event._$getInstanceWithReset=function(_options,_clear){_options=_options||{};if(!!_clear&&!!this.__inctanse){this.__inctanse._$recycle();delete this.__inctanse}if(!this.__inctanse){this.__inctanse=this._$allocate(_options)}else{this.__inctanse.__reset(_options)}return this.__inctanse};_pro.__init=function(){this.__events={};this.__events_dom={};this.id=_u._$uniqueID()};_pro.__reset=function(_options){this._$batEvent(_options)};_pro.__destroy=function(){this._$clearEvent();this.__doClearDomEvent()};_pro.__doInitDomEvent=function(){var _doAttach=function(_args){if(!_args||_args.length<3)return;this.__events_dom["de-"+_u._$uniqueID()]=_args;_v._$addEvent.apply(_v,_args)};return function(_list){_u._$forEach(_list,_doAttach,this)}}();_pro.__doClearDomEvent=function(){var _doRemoveEvent=function(_args,_key,_map){delete _map[_key];_v._$delEvent.apply(_v,_args)};return function(){_u._$forIn(this.__events_dom,_doRemoveEvent)}}();_pro.__doClearComponent=function(_filter){_filter=_filter||_f;_u._$forIn(this,function(_inst,_key,_map){if(!!_inst&&!!_inst._$recycle&&!_filter(_inst)){delete _map[_key];_inst._$recycle()}})};_pro._$recycle=function(){this.constructor._$recycle(this)};_pro._$hasEvent=function(_type){var _type=(_type||"").toLowerCase(),_event=this.__events[_type];return!!_event&&_event!==_f};_pro._$addEvent=function(_type,_event){this._$setEvent.apply(this,arguments);return this};_pro._$delEvent=function(_type,_event){var _type=(_type||"").toLowerCase(),_events=this.__events[_type];if(!_u._$isArray(_events)){if(_events==_event){delete this.__events[_type]}return}_u._$reverseEach(_events,function(_func,_index,_list){if(_func==_event){_list.splice(_index,1)}})};_pro._$setEvent=function(_type,_event){if(!!_type&&_u._$isFunction(_event)){this.__events[_type.toLowerCase()]=_event}};_pro._$batEvent=function(){var _doSetEvent=function(_event,_type){this._$setEvent(_type,_event)};return function(_events){_u._$forIn(_events,_doSetEvent,this)}}();_pro._$clearEvent=function(){var _doClearEvent=function(_event,_type){this._$clearEvent(_type)};return function(_type){var _type=(_type||"").toLowerCase();if(!!_type){delete this.__events[_type]}else{_u._$forIn(this.__events,_doClearEvent,this)}}}();_pro._$pushEvent=function(_type,_event){if(!_type||!_u._$isFunction(_event)){return}_type=_type.toLowerCase();var _events=this.__events[_type];if(!_events){this.__events[_type]=_event;return}if(!_u._$isArray(_events)){this.__events[_type]=[_events]}this.__events[_type].push(_event)};_pro._$dispatchEvent=function(_type){var _type=(_type||"").toLowerCase(),_event=this.__events[_type];if(!_event)return;var _args=_r.slice.call(arguments,1);if(!_u._$isArray(_event)){return _event.apply(this,_args)}_u._$forEach(_event,function(_handler){try{_handler.apply(this,_args)}catch(ex){console.error(ex.message);console.error(ex.stack)}},this);return this};_p._$api=function(){var _cache={};return function(_id,_class,_options){var _sn=_class.__sign__;if(!_sn){_sn=_u._$randString(10);_class.__sign__=_sn}var _key=_id+"-"+_sn,_instance=_cache[_key];if(!!_options&&!_instance){_instance=_class._$allocate(_options);_instance._$recycle=_instance._$recycle._$aop(function(_event){delete _cache[_key];delete _instance._$recycle});_cache[_key]=_instance}return _instance}}()})();
(function(){var _=NEJ.P,_o=NEJ.O,_f=NEJ.F,_e=_("nej.e"),_v=_("nej.v"),_u=_("nej.u"),_p=_("nej.ut"),_pro;if(!!_p._$$CustomEvent)return;_p._$$CustomEvent=NEJ.C();_pro=_p._$$CustomEvent._$extend(_p._$$Event);_pro.__init=function(){this.__cache={};this.__supInit()};_pro.__reset=function(_options){this.__supReset(_options);this.__element=_e._$get(_options.element)||window;this.__doEventInit(_options.event);this.__doEventAPIEnhance();this._$dispatchEvent("oninit")};_pro.__destroy=function(){var _doClear=function(_value,_key,_map){if(!_u._$isArray(_value)){_u._$safeDelete(this.__element,_key)}delete _map[_key]};return function(){this.__supDestroy();_u._$forIn(this.__cache,_doClear,this);delete this.__element}}();_pro.__isDelegate=function(_element,_type){_element=_e._$get(_element);return _element===this.__element&&(!_type||!!this.__cache["on"+_type])};_pro.__doEventInit=function(_event){if(_u._$isString(_event)){var _name="on"+_event;if(!this.__cache[_name]){this.__cache[_name]=this.__doEventDispatch._$bind(this,_event)}this.__doEventBind(_event);return}if(_u._$isArray(_event)){_u._$forEach(_event,this.__doEventInit,this)}};_pro.__doEventBind=function(_type){var _event="on"+_type,_handler=this.__element[_event],_handler1=this.__cache[_event];if(_handler!=_handler1){this.__doEventDelete(_type);if(!!_handler&&_handler!=_f)this.__doEventAdd(_type,_handler);this.__element[_event]=_handler1}};_pro.__doEventAdd=function(_type,_handler,_front){var _list=this.__cache[_type];if(!_list){_list=[];this.__cache[_type]=_list}if(_u._$isFunction(_handler)){!_front?_list.push(_handler):_list.unshift(_handler)}};_pro.__doEventDelete=function(_type,_handler){var _list=this.__cache[_type];if(!_list||!_list.length)return;if(!_handler){delete this.__cache[_type];return}_u._$reverseEach(_list,function(_value,_index,_xlist){if(_handler===_value){_xlist.splice(_index,1);return!0}})};_pro.__doEventDispatch=function(_type,_event){_event=_event||{noargs:!0};if(_event==_o)_event={};_event.type=_type;this._$dispatchEvent("ondispatch",_event);if(!!_event.stopped)return;_u._$forEach(this.__cache[_type],function(_handler){try{_handler(_event)}catch(ex){console.error(ex.message);console.error(ex.stack)}})};_pro.__doEventAPIEnhance=function(){var _doAddEvent=function(_event){var _args=_event.args,_type=_args[1].toLowerCase();if(this.__isDelegate(_args[0],_type)){_event.stopped=!0;this.__doEventBind(_type);this.__doEventAdd(_type,_args[2],_args[3]);this._$dispatchEvent("oneventadd",{type:_type,listener:_args[2]})}};var _doDelEvent=function(_event){var _args=_event.args,_type=_args[1].toLowerCase();if(this.__isDelegate(_args[0],_type)){_event.stopped=!0;this.__doEventDelete(_type,_args[2])}};var _doClearEvent=function(_event){var _args=_event.args,_type=(_args[1]||"").toLowerCase();if(this.__isDelegate(_args[0])){if(!!_type){this.__doEventDelete(_type);return}_u._$forIn(this.__cache,function(_value,_key){if(_u._$isArray(_value)){this.__doEventDelete(_key)}},this)}};var _doDispatchEvent=function(_event){var _args=_event.args,_type=_args[1].toLowerCase();if(this.__isDelegate(_args[0],_type)){_event.stopped=!0;_args[0]["on"+_type].apply(_args[0],_args.slice(2))}};return function(){if(!!this.__enhanced)return;this.__enhanced=true;_v._$addEvent=_v._$addEvent._$aop(_doAddEvent._$bind(this));_v._$delEvent=_v._$delEvent._$aop(_doDelEvent._$bind(this));_v._$clearEvent=_v._$clearEvent._$aop(_doClearEvent._$bind(this));_v._$dispatchEvent=_v._$dispatchEvent._$aop(_doDispatchEvent._$bind(this))}}()})();
(function(){var _=NEJ.P,_f=NEJ.F,_g=_("nej.g"),_v=_("nej.v"),_u=_("nej.u"),_t=_("nej.ut"),_p=_("nej.ut.j"),_pro,_timeout=6e4;if(!!_p._$$Loader)return;_p._$$Loader=NEJ.C();_pro=_p._$$Loader._$extend(_t._$$Event);_pro.__init=function(){this.__supInit();this.__qopt={onerror:this.__onQueueError._$bind(this),onloaded:this.__onQueueLoaded._$bind(this)};if(!this.constructor.__cache)this.constructor.__cache={loaded:{}}};_pro.__reset=function(_options){this.__supReset(_options);this.__version=_options.version;this.__timeout=_options.timeout;this.__qopt.version=this.__version;this.__qopt.timeout=this.__timeout};_pro.__delLoadData=function(_key){delete this.constructor.__cache[_key]};_pro.__getLoadData=function(_key){return this.constructor.__cache[_key]};_pro.__setLoadData=function(_key,_data){this.constructor.__cache[_key]=_data};_pro.__getRequest=_f;_pro.__clearRequest=function(_request){_v._$clearEvent(_request)};_pro.__doRequest=function(_request){_request.src=this.__url;document.head.appendChild(_request)};_pro.__doClear=function(){var _cache=this.__getLoadData(this.__url);if(!_cache)return;window.clearTimeout(_cache.timer);this.__clearRequest(_cache.request);delete _cache.bind;delete _cache.timer;delete _cache.request;this.__delLoadData(this.__url);this.__getLoadData("loaded")[this.__url]=!0};_pro.__doCallback=function(_name){var _cache=this.__getLoadData(this.__url);if(!_cache)return;var _list=_cache.bind;this.__doClear();if(!!_list&&_list.length>0){var _instance;while(_list.length){_instance=_list.shift();try{_instance._$dispatchEvent(_name,arguments[1])}catch(ex){console.error(ex.message);console.error(ex.stack)}_instance._$recycle()}}};_pro.__onError=function(_error){this.__doCallback("onerror",_error)};_pro.__onLoaded=function(){this.__doCallback("onloaded")};_pro.__doLoadQueue=function(_url){this.constructor._$allocate(this.__qopt)._$load(_url)};_pro.__onQueueCheck=function(_error){var _cache=this.__getLoadData(this.__key);if(!_cache)return;if(!!_error)_cache.error++;_cache.loaded++;if(_cache.loaded<_cache.total)return;this.__delLoadData(this.__key);this._$dispatchEvent(_cache.error>0?"onerror":"onloaded")};_pro.__onQueueError=function(_error){this.__onQueueCheck(!0)};_pro.__onQueueLoaded=function(){this.__onQueueCheck()};_pro._$load=function(_url){_url=_u._$absolute(_url);if(!_url){this._$dispatchEvent("onerror",{code:_g._$CODE_NOTASGN,message:"请指定要载入的资源地址！"});return this}this.__url=_url;if(!!this.__version)this.__url+=(this.__url.indexOf("?")<0?"?":"&")+this.__version;if(this.__getLoadData("loaded")[this.__url]){try{this._$dispatchEvent("onloaded")}catch(ex){console.error(ex.message);console.error(ex.stack)}this._$recycle();return this}var _cache=this.__getLoadData(this.__url),_request;if(!!_cache){_cache.bind.unshift(this);_cache.timer=window.clearTimeout(_cache.timer)}else{_request=this.__getRequest();_cache={request:_request,bind:[this]};this.__setLoadData(this.__url,_cache);_v._$addEvent(_request,"load",this.__onLoaded._$bind(this));_v._$addEvent(_request,"error",this.__onError._$bind(this,{code:_g._$CODE_ERRSERV,message:"无法加载指定资源文件["+this.__url+"]！"}))}if(this.__timeout!=0)_cache.timer=window.setTimeout(this.__onError._$bind(this,{code:_g._$CODE_TIMEOUT,message:"指定资源文件["+this.__url+"]载入超时！"}),this.__timeout||_timeout);if(!!_request)this.__doRequest(_request);this._$dispatchEvent("onloading");return this};_pro._$queue=function(_list){if(!_list||!_list.length){this._$dispatchEvent("onerror",{code:_g._$CODE_NOTASGN,message:"请指定要载入的资源队列！"});return this}this.__key=_u._$randNumberString();var _cache={error:0,loaded:0,total:_list.length};this.__setLoadData(this.__key,_cache);for(var i=0,l=_list.length;i<l;i++){if(!_list[i]){_cache.total--;continue}this.__doLoadQueue(_list[i])}this._$dispatchEvent("onloading");return this}})();
(function(){var _=NEJ.P,_o=NEJ.O,_e=_("nej.e"),_h=_("nej.h"),_p=_("nej.ut.j"),_proHtmlLoader;if(!!_p._$$HtmlLoader)return;_p._$$HtmlLoader=NEJ.C();_proHtmlLoader=_p._$$HtmlLoader._$extend(_p._$$Loader);_proHtmlLoader.__getRequest=function(){var _iframe=_e._$create("iframe");_iframe.width=0;_iframe.height=0;_iframe.style.display="none";return _iframe};_proHtmlLoader.__doRequest=function(_request){_request.src=this.__url;document.body.appendChild(_request)};_proHtmlLoader.__onError=function(_error){var _iframe=(this.__getLoadData(this.__url)||_o).request;this.__doCallback("onerror",_error);_h.__removeIFrameKeepHistory(_iframe)};_proHtmlLoader.__onLoaded=function(){var _body=null,_iframe=(this.__getLoadData(this.__url)||_o).request;try{_body=_iframe.contentWindow.document.body}catch(ex){}this.__doCallback("onloaded",_body);_h.__removeIFrameKeepHistory(_iframe)}})();
(function(){var _=NEJ.P,_e=_("nej.e"),_p=_("nej.ut.j"),_proStyleLoader;if(!!_p._$$StyleLoader)return;_p._$$StyleLoader=NEJ.C();_proStyleLoader=_p._$$StyleLoader._$extend(_p._$$Loader);_proStyleLoader.__getRequest=function(){return _e._$create("link")};_proStyleLoader.__doRequest=function(_request){_request.href=this.__url;document.head.appendChild(_request)}})();
(function(){var _=NEJ.P,_e=_("nej.e"),_p=_("nej.ut.j"),_proScriptLoader;if(!!_p._$$ScriptLoader)return;_p._$$ScriptLoader=NEJ.C();_proScriptLoader=_p._$$ScriptLoader._$extend(_p._$$Loader);_proScriptLoader.__reset=function(_options){this.__supReset(_options);this.__async=_options.async;this.__charset=_options.charset;this.__qopt.async=!1;this.__qopt.charset=this.__charset};_proScriptLoader.__getRequest=function(){var _request=_e._$create("script");if(this.__async!=null)_request.async=!!this.__async;if(this.__charset!=null)_request.charset=this.__charset;return _request};_proScriptLoader.__clearRequest=function(_request){_e._$remove(_request)}})();
(function(){var _=NEJ.P,_j=_("nej.j"),_p=_("nej.ut.j");_j._$loadScript=function(_url,_options){_p._$$ScriptLoader._$allocate(_options)._$load(_url);return this};_j._$queueScript=function(_list,_options){_p._$$ScriptLoader._$allocate(_options)._$queue(_list);return this};_j._$loadStyle=function(_url,_options){_p._$$StyleLoader._$allocate(_options)._$load(_url);return this};_j._$queueStyle=function(_list,_options){_p._$$StyleLoader._$allocate(_options)._$queue(_list);return this};_j._$loadHtml=function(_url,_options){_p._$$HtmlLoader._$allocate(_options)._$load(_url);return this}})();
(function(){var o=NEJ.O,u=NEJ.P("nej.u"),j=NEJ.P("nej.j");j._$cookie=function(){var _date=new Date,_crut=+_date,_days=864e5;var _getcookie=function(_name){var _cookie=document.cookie,_search="\\b"+_name+"=",_index1=_cookie.search(_search);if(_index1<0)return"";_index1+=_search.length-2;var _index2=_cookie.indexOf(";",_index1);if(_index2<0)_index2=_cookie.length;return _cookie.substring(_index1,_index2)||""};return function(_name,_data){if(_data===undefined)return _getcookie(_name);if(u._$isString(_data)){if(!!_data){document.cookie=_name+"="+_data+";";return _data}_data={expires:-100}}_data=_data||o;var _cookie=_name+"="+(_data.value||"")+";";delete _data.value;if(_data.expires!==undefined){_date.setTime(_crut+_data.expires*_days);_data.expires=_date.toGMTString()}_cookie+=u._$object2string(_data,";");document.cookie=_cookie}}()})();
(function(){var _=NEJ.P,_f=NEJ.F,_c=_("nej.c"),_g=_("nej.g"),_e=_("nej.e"),_u=_("nej.u"),_j=_("nej.j"),_t=_("nej.ut"),_p=_("nej.ut.j"),_pro;if(!!_p._$$Proxy)return;_p._$$Proxy=NEJ.C();_pro=_p._$$Proxy._$extend(_t._$$Event);_pro.__reset=function(_options){this.__supReset(_options);this.__request={url:"",sync:!1,cookie:!1,type:"text",method:"GET",timeout:6e4};NEJ.EX(this.__request,_options);var _csrf=_c._$get("csrf");if(!!_csrf.cookie&&!!_csrf.param){var _query=encodeURIComponent(_csrf.param)+"="+encodeURIComponent(_j._$cookie(_csrf.cookie)||""),_split=this.__request.url.indexOf("?")<0?"?":"&";this.__request.url+=_split+_query}this.__headers=_options.headers||{};var _content=this.__headers[_g._$HEAD_CT];if(_content==null)this.__headers[_g._$HEAD_CT]=_g._$HEAD_CT_FORM};_pro.__destroy=function(){this.__supDestroy();delete this.__rkey;delete this.__request;delete this.__headers};_pro.__onLoadRequest=function(_event){var _status=_event.status;if(_status==-1){this._$dispatchEvent("onerror",{code:_g._$CODE_TIMEOUT,message:"请求["+this.__request.url+"]超时！"});return}if((""+_status).indexOf("2")!=0){this._$dispatchEvent("onerror",{data:_status,code:_g._$CODE_ERRSERV,message:"服务器返回异常状态["+_status+"]!"});return}this._$dispatchEvent("onload",_e._$text2type(_event.result,this.__request.type))};_pro.__doSendRequest=_f;_pro._$send=function(_data){var _url=this.__request.url;if(!_url){this._$dispatchEvent("onerror",{code:_g._$CODE_NOTASGN,message:"没有输入请求地址！"});return this}try{this.__request.data=_data==null?null:_data;var _event={request:this.__request,headers:this.__headers};try{this._$dispatchEvent("onbeforerequest",_event)}catch(ex){console.error(ex.message);console.error(ex.stack)}this.__doSendRequest(_event)}catch(e){this._$dispatchEvent("onerror",{code:_g._$CODE_ERRSERV,message:"请求["+_url+"]失败:"+e.message+"！"})}return this};_pro._$abort=_f;_pro.__getResponseHeader=_f;_pro._$header=function(_key){if(!_u._$isArray(_key)){return this.__getResponseHeader(_key)||""}var _result={};_u._$forEach(_key,function(_value){_result[_value]=this._$header(_value)},this);return _result}})();
(function(){var _=NEJ.P,_f=NEJ.F,_h=_("nej.h"),_g=_("nej.g"),_u=_("nej.u"),_p=_("nej.ut.j"),_pro;if(!!_p._$$XHRProxy)return;_p._$$XHRProxy=NEJ.C();_pro=_p._$$XHRProxy._$extend(_p._$$Proxy);_pro.__destroy=function(){this.__supDestroy();window.clearTimeout(this.__timer);delete this.__timer;try{this.__xhr.onreadystatechange=_f;this.__xhr.abort()}catch(e){}delete this.__xhr};_pro.__doSendRequest=function(){var _doSetHeader=function(_value,_key){this.__xhr.setRequestHeader(_key,_value)};return function(_options){var _request=_options.request,_headers=_options.headers;this.__xhr=_h.__getXMLHttpRequest();if(_headers[_g._$HEAD_CT]===_g._$HEAD_CT_FILE){delete _headers[_g._$HEAD_CT];this.__xhr.upload.onprogress=this.__onStateChange._$bind(this,1);if(_request.data.tagName==="FORM")_request.data=new FormData(_request.data)}this.__xhr.onreadystatechange=this.__onStateChange._$bind(this,2);if(_request.timeout!=0){this.__timer=window.setTimeout(this.__onStateChange._$bind(this,3),_request.timeout)}this.__xhr.open(_request.method,_request.url,!_request.sync);_u._$forIn(_headers,_doSetHeader,this);if(!!this.__request.cookie&&"withCredentials"in this.__xhr)this.__xhr.withCredentials=!0;this.__xhr.send(_request.data)}}();_pro.__onStateChange=function(_type){switch(_type){case 1:this._$dispatchEvent("onuploading",arguments[1]);break;case 2:if(this.__xhr.readyState==4)this.__onLoadRequest({status:this.__xhr.status,result:this.__xhr.responseText||""});break;case 3:this.__onLoadRequest({status:-1});break}};_pro.__getResponseHeader=function(_key){return!this.__xhr?"":this.__xhr.getResponseHeader(_key)};_pro._$abort=function(){this.__onLoadRequest({status:0});return this}})();
(function(){var _b=NEJ.P("nej.p"),_p=window,_is=_b._$IS,_es=_is.ipad||_is.iphone;if(!_es&&!!_p.requestAnimationFrame&&!!_p.cancelRequestAnimationFrame)return;var _prefix=_b._$KERNEL.prefix.pro;if(!_es&&!!_p[_prefix+"RequestAnimationFrame"]&&!!_p[_prefix+"CancelRequestAnimationFrame"]){_p.requestAnimationFrame=_p[_prefix+"RequestAnimationFrame"];_p.cancelRequestAnimationFrame=_p[_prefix+"CancelRequestAnimationFrame"];return}var _fps=_is.desktop?80:_is.ios?50:30;_p.requestAnimationFrame=function(_callback){return window.setTimeout(function(){try{_callback(+(new Date))}catch(ex){}},1e3/_fps)};_p.cancelRequestAnimationFrame=function(_id){window.clearTimeout(_id);return this}})();
(function(){var _=NEJ.P,_f=NEJ.F,_u=_("nej.u"),_e=_("nej.e"),_v=_("nej.v"),_h=_("nej.h"),_x=_("nej.x"),_seed_html;if(!!_e._$flash)return;_e._$flash=_x._$flash=function(){var _cache={},_reg0=/^(?:mouse.*|(?:dbl)?click)$/i;window.onflashevent=function(_event){var _id=decodeURIComponent(_event.target),_type=_event.type.toLowerCase();var _target=_cache[_id+"-tgt"];if(!!_target&&_reg0.test(_type)){_doMouseEventBubble(_target,_event)}var _handler=_cache[_id+"-on"+_type];if(!!_handler){var _result="";try{_result=_handler(_event)}catch(e){}return _result}};var _doInitDOM=function(_options){var _parent=_e._$get(_options.parent)||document.body,_html=_e._$getHtmlTemplate(_seed_html,_options);_parent.insertAdjacentHTML(!_options.hidden?"beforeEnd":"afterBegin",_html)};var _doMouseEventBubble=function(_id,_event){var _type=_event.type.toLowerCase();requestAnimationFrame(function(){_v._$dispatchEvent(_id,_type)})};var _doCheckFlashInit=function(_flash){return!!_flash&&!!_flash.inited&&!!_flash.inited()};var _doCheckFlash=function(_id){var _arr=[document.embeds[_id],_e._$get(_id),document[_id],window[_id]],_index=_u._$forIn(_arr,_doCheckFlashInit),_flash=_arr[_index],_ctkey=_id+"-count";_cache[_ctkey]++;if(!!_flash||_cache[_ctkey]>100){_cache[_id](_flash);delete _cache[_id];delete _cache[_ctkey];return}window.setTimeout(_doCheckFlash._$bind(null,_id),300)};var _doInitFlashEvent=function(_options){var _id=_options.id,_params=_options.params;if(!_params){_params={};_options.params=_params}var _vars=_params.flashvars||"";_vars+=(!_vars?"":"&")+("id="+_id);if(!_options.hidden&&(!!_options.target||_h.__canFlashEventBubble(_params.wmode))){var _tid=_e._$id(_options.target)||_e._$id(_options.parent);_cache[_id+"-tgt"]=_tid}_params.flashvars=_vars;_u._$forIn(_options,function(_value,_key){if(_u._$isFunction(_value)&&_key!="onready"){_cache[_id+"-"+_key]=_value}})};return function(_options){_options=NEJ.X({},_options);if(!_options.src)return;var _id=_u._$uniqueID();_options.id=_id;_doInitFlashEvent(_options);_doInitDOM(_options);if(!_options.onready)return;_cache[_id]=_options.onready;_cache[_id+"-count"]=0;_doCheckFlash(_id)}}();_seed_html=_e._$addHtmlTemplate('{var hide  = defined("hidden")&&!!hidden}{var param = defined("params")&&params||NEJ.O}{var width = !hide?width:"1px",height = !hide?height:"1px"}{if hide}<div style="position:absolute;top:0;left:0;width:1px;height:1px;z-index:10000;overflow:hidden;">{/if}<object classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"codebase = "http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"width = "${width|default:"100px"}"height = "${height|default:"100px"}" id="${id}"><param value="${src}" name="movie">{for x in param}<param value="${x}" name="${x_key}"/>{/for}<embed src="${src}" name="${id}"width="${width|default:"100px"}"height="${height|default:"100px"}"pluginspage="http://www.adobe.com/go/getflashplayer"type="application/x-shockwave-flash"{for x in param}${x_key}="${x}" {/for}></embed></object>{if hide}</div>{/if}');_x.isChange=!0})();
(function(){var _=NEJ.P,_c=_("nej.c"),_e=_("nej.e"),_u=_("nej.u"),_p=_("nej.ut.j"),_w=_("nej.ut.j.cb"),_cache={},_seed=+(new Date),_proFlashProxy;if(!!_p._$$FlashProxy)return;_w["ld"+_seed]=function(_key,_text){var _proxy=_cache[_key];if(!_proxy)return;delete _cache[_key];_proxy.__onLoadRequest({status:200,result:_text})};_w["er"+_seed]=function(_key,_status){var _proxy=_cache[_key];if(!_proxy)return;delete _cache[_key];_proxy.__onLoadRequest({status:_status||0})};_p._$$FlashProxy=NEJ.C();_proFlashProxy=_p._$$FlashProxy._$extend(_p._$$Proxy);_proFlashProxy.__doSendRequest=function(_options){var _flash=_cache.flash;if(_u._$isArray(_flash)){_flash.push(this.__doSendRequest._$bind(this,_options));return}if(!_flash){_cache.flash=[this.__doSendRequest._$bind(this,_options)];_e._$flash({hidden:!0,src:_c._$get("ajax.swf"),onready:function(_flash){if(!_flash)return;var _list=_cache.flash;_cache.flash=_flash;_u._$reverseEach(_list,function(_handler){try{_handler()}catch(e){}})}});return}this.__rkey="swf-"+_u._$randNumberString();_cache[this.__rkey]=this;var _data=NEJ.EX({url:"",data:null,method:"GET"},_options.request);_data.key=this.__rkey;_data.headers=_options.headers;_data.onerror="nej.ut.j.cb.er"+_seed;_data.onloaded="nej.ut.j.cb.ld"+_seed;var _policy=_c._$getFlashProxy(_data.url);if(!!_policy)_data.policyURL=_policy;_flash.request(_data)};_proFlashProxy._$abort=function(){delete _cache[this.__rkey];this.__onLoadRequest({status:0});return this}})();
(function(){var _=NEJ.P,_o=NEJ.O,_h=_("nej.h");_h.__formatOrigin=function(){var _reg=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(_origin){_origin=_origin||"";if(_reg.test(_origin))return RegExp.$1;return"*"}}();_h.__formatPassData=function(_data){return _data};_h.__postMessage=function(_window,_options){if(!_window.postMessage)return;_options=_options||_o;_window.postMessage(_h.__formatPassData(_options.data),_h.__formatOrigin(_options.origin))}})();
(function(){var _=NEJ.P,_o=NEJ.O,_h=_("nej.h"),_e=_("nej.e"),_j=_("nej.j");_j._$postMessage=function(){var _self=window.name||"_parent",_wmap={_top:window.top,_self:window,_parent:window.parent};return function(_target,_options){if(typeof _target=="string"){_target=_wmap[_target]||window.frames[_target]||(_e._$get(_target)||_o).contentWindow;if(!_target)return this}var _data=NEJ.X({origin:"*",source:_self},_options);_h.__postMessage(_target,_data);return this}}()})();
(function(){var _=NEJ.P,_c=_("nej.c"),_e=_("nej.e"),_v=_("nej.v"),_u=_("nej.u"),_j=_("nej.j"),_p=_("nej.ut.j"),_cache={},_proFrameProxy;if(!!_p._$$FrameProxy)return;_p._$$FrameProxy=NEJ.C();_proFrameProxy=_p._$$FrameProxy._$extend(_p._$$Proxy);_proFrameProxy.__init=function(){var _flag="NEJ-AJAX-DATA:",_init=!1;var _doReceiveMessage=function(_event){var _data=_event.data;if(_data.indexOf(_flag)!=0)return;_data=JSON.parse(_data.replace(_flag,""));var _proxy=_cache[_data.key];if(!_proxy)return;delete _cache[_data.key];_data.result=decodeURIComponent(_data.result||"");_proxy.__onLoadRequest(_data)};var _doInitMessage=function(){if(!_init){_init=!0;_v._$addEvent(window,"message",_doReceiveMessage)}};return function(){this.__supInit();_doInitMessage()}}();_proFrameProxy.__doSendRequest=function(_options){var _request=_options.request,_proxy=_c._$getFrameProxy(_request.url),_frame=_cache[_proxy];if(_u._$isArray(_frame)){_frame.push(this.__doSendRequest._$bind(this,_options));return}if(!_frame){_cache[_proxy]=[this.__doSendRequest._$bind(this,_options)];_e._$createXFrame({src:_proxy,visible:!1,onload:function(_event){var _list=_cache[_proxy];_cache[_proxy]=_v._$getElement(_event).contentWindow;_u._$reverseEach(_list,function(_handler){try{_handler()}catch(e){}})}});return}this.__rkey="frm-"+_u._$randNumberString();_cache[this.__rkey]=this;var _data=NEJ.EX({url:"",data:null,timeout:0,method:"GET"},_request);_data.key=this.__rkey;_data.headers=_options.headers;_j._$postMessage(_cache[_proxy],{data:_data})};_proFrameProxy._$abort=function(){delete _cache[this.__rkey];this.__onLoadRequest({status:0});return this}})();
(function(){var _=NEJ.P,_o=NEJ.O,_g=_("nej.g"),_e=_("nej.e"),_v=_("nej.v"),_u=_("nej.u"),_j=_("nej.j"),_p=_("nej.ut.j"),_cache={},_flag="NEJ-UPLOAD-RESULT:",_pro;if(!!_p._$$UploadProxy)return;_p._$$UploadProxy=NEJ.C();_pro=_p._$$UploadProxy._$extend(_p._$$Proxy);_pro.__init=function(){var _init=!1;var _doReceiveMessage=function(_event){var _data=_event.data;if(_data.indexOf(_flag)!=0)return;_data=JSON.parse(_data.replace(_flag,""));var _proxy=_cache[_data.key];if(!_proxy)return;delete _cache[_data.key];_proxy.__onLoadRequest(decodeURIComponent(_data.result))};var _doInitMessage=function(){if(!_init){_init=!0;_v._$addEvent(window,"message",_doReceiveMessage)}};return function(){this.__supInit();_doInitMessage()}}();_pro.__destroy=function(){this.__supDestroy();_e._$remove(this.__frame);delete this.__frame;window.clearTimeout(this.__timer);delete this.__timer};_pro.__onLoadRequest=function(_text){var _json;try{_json=JSON.parse(_text);this._$dispatchEvent("onload",_json)}catch(e){this._$dispatchEvent("onerror",{code:_g._$CODE_ERREVAL,message:_text})}};_pro.__doSendRequest=function(){var _doCheckResult=function(){var _body,_text;try{var _body=this.__frame.contentWindow.document.body,_text=(_body.innerText||_body.textContent||"").trim();if(_text.indexOf(_flag)>=0||_body.innerHTML.indexOf(_flag)>=0){return}}catch(e){return}this.__onLoadRequest(_text)};var _doProgress=function(_url,_mode,_cookie){_j._$request(_url,{type:"json",method:"POST",cookie:_cookie,mode:parseInt(_mode)||0,onload:function(_data){if(!this.__timer)return;this._$dispatchEvent("onuploading",_data);this.__timer=window.setTimeout(_doProgress._$bind(this,_url,_mode,_cookie),1e3)}._$bind(this),onerror:function(_error){if(!this.__timer)return;this.__timer=window.setTimeout(_doProgress._$bind(this,_url,_mode,_cookie),1e3)}._$bind(this)})};return function(_options){var _request=_options.request,_headers=_options.headers,_form=_request.data,_name="fom-"+_u._$randNumberString();_cache[_name]=this;_form.target=_name;_form.method="POST";_form.enctype=_g._$HEAD_CT_FILE;_form.encoding=_g._$HEAD_CT_FILE;var _url=_form.action||"",_sep=_url.indexOf("?")<=0?"?":"&";_form.action=_url+_sep+"_proxy_=form";this.__frame=_e._$createXFrame({name:_name,onload:function(_event){var _frame=_v._$getElement(_event);_v._$addEvent(_frame,"load",_doCheckResult._$bind(this));_form.submit();var _qurl=(_form.nej_query||_o).value;if(!_qurl)return;var _mode=(_form.nej_mode||_o).value,_cookie=(_form.nej_cookie||_o).value=="true";this.__timer=window.setTimeout(_doProgress._$bind(this,_qurl,_mode,_cookie),100)}._$bind(this)})}}();_pro._$abort=function(){this._$dispatchEvent("onerror",{code:_g._$CODE_ERRABRT,message:"客户端终止文件上传"});return this}})();
(function(){var _=NEJ.P,_o=NEJ.O,_h=_("nej.h"),_p=_("nej.ut.j");_h.__getXMLHttpRequest=function(){return new XMLHttpRequest};_h.__getProxyByMode=function(_mode,_upload,_options){var _map=!!_upload?{2:_p._$$UploadProxy}:{2:_p._$$FrameProxy,3:_p._$$FlashProxy};return(_map[_mode]||_p._$$XHRProxy)._$allocate(_options)}})();
(function(){var _=NEJ.P,_o=NEJ.O,_f=NEJ.F,_h=_("nej.h"),_g=_("nej.g"),_u=_("nej.u"),_j=_("nej.j"),_p=_("nej.ut.j"),_xcache={},_doFilter=_f;_j._$abort=function(_sn){var _cache=_xcache[_sn];if(!_cache)return this;_cache.req._$abort();return this};_j._$filter=function(_filter){_doFilter=_filter||_f;return this};_j._$request=function(){var _location=(location.protocol+"//"+location.host).toLowerCase();var _isXDomain=function(_url){var _origin=_u._$url2origin(_url);return!!_origin&&_origin!=_location};var _isUpload=function(_headers){return(_headers||_o)[_g._$HEAD_CT]==_g._$HEAD_CT_FILE};var _getProxy=function(_options){var _upload=_isUpload(_options.headers);if(!_isXDomain(_options.url)&&!_upload)return _p._$$XHRProxy._$allocate(_options);return _h.__getProxyByMode(_options.mode,_upload,_options)};var _doParseExtData=function(_cache,_result){var _data={data:_result};var _keys=_cache.result.headers;if(!!_keys){_data.headers=_cache.req._$header(_keys)}return _data};var _doClear=function(_sn){var _cache=_xcache[_sn];if(!_cache)return;if(!!_cache.req)_cache.req._$recycle();delete _xcache[_sn]};var _doCallback=function(_sn,_type){var _cache=_xcache[_sn];if(!_cache)return;var _data=arguments[2];if(_type=="onload"&&!!_cache.result){_data=_doParseExtData(_cache,_data)}_doClear(_sn);try{var _event={type:_type,result:_data};_doFilter(_event);if(!_event.stopped){(_cache[_type]||_f)(_event.result)}}catch(ex){console.error(ex.message);console.error(ex)}};var _onLoad=function(_sn,_data){_doCallback(_sn,"onload",_data)};var _onError=function(_sn,_error){_doCallback(_sn,"onerror",_error)};return function(_url,_options){_options=_options||{};var _sn=_u._$uniqueID(),_cache={result:_options.result,onload:_options.onload||_f,onerror:_options.onerror||_f};_xcache[_sn]=_cache;_options.onload=_onLoad._$bind(null,_sn);_options.onerror=_onError._$bind(null,_sn);if(!!_options.query){var _sep=_url.indexOf("?")<0?"?":"&",_query=_options.query;if(_u._$isObject(_query))_query=_u._$object2query(_query);if(!!_query)_url+=_sep+_query}_options.url=_url;_cache.req=_getProxy(_options);_cache.req._$send(_options.data);return _sn}}();_j._$upload=function(_form,_options){var _option={mode:0,type:"json",query:null,cookie:!1,headers:{},onload:null,onerror:null,onuploading:null,onbeforerequest:null};NEJ.EX(_option,_options);_option.data=_form;_option.method="POST";_option.timeout=0;_option.headers[_g._$HEAD_CT]=_g._$HEAD_CT_FILE;return _j._$request(_form.action,_option)}})();
(function(){var _=NEJ.P,_o=NEJ.O,_e=_("nej.e"),_v=_("nej.v"),_u=_("nej.u"),_j=_("nej.j"),_t=_("nej.ut"),_cache={},_skey=+(new Date)+"-";_e._$parseTemplate=function(){var _count=0;var _doCheckReady=function(){if(_count>0)return;_count=0;_v._$dispatchEvent(document,"templateready");_v._$clearEvent(document,"templateready")};var _doParseSrc=function(_textarea,_options){var _src=_e._$dataset(_textarea,"src");if(!_src)return;_options=_options||_o;var _root=_options.root;if(!_root){_root=_textarea.ownerDocument.location.href}else{_root=_u._$absolute(_root)}_src=_src.split(",");_u._$forEach(_src,function(_value,_index,_list){_list[_index]=_u._$absolute(_value,_root)});return _src};var _doAddStyle=function(_textarea,_options){if(!_textarea)return;var _src=_doParseSrc(_textarea,_options);if(!!_src)_j._$queueStyle(_src,{version:_e._$dataset(_textarea,"version")});_e._$addStyle(_textarea.value)};var _onAddScript=function(_value){_count--;_e._$addScript(_value);_doCheckReady()};var _doAddScript=function(_textarea,_options){if(!_textarea)return;var _src=_doParseSrc(_textarea,_options),_val=_textarea.value;if(!!_src){_count++;var _options={version:_e._$dataset(_textarea,"version"),onloaded:_onAddScript._$bind(null,_val)};window.setTimeout(_j._$queueScript._$bind(_j,_src,_options),0);return}_e._$addScript(_val)};var _onAddHtml=function(_body){_count--;_e._$parseTemplate(_body);_doCheckReady()};var _doAddHtml=function(_textarea,_options){if(!_textarea)return;var _src=_doParseSrc(_textarea,_options)[0];if(!!_src){_count++;var _options={version:_e._$dataset(_textarea,"version"),onloaded:_onAddHtml};window.setTimeout(_j._$loadHtml._$bind(_j,_src,_options),0)}};var _onAddTextResource=function(_id,_text){_count--;_e._$addTextTemplate(_id,_text||"");_doCheckReady()};var _doAddTextResource=function(_textarea,_options){if(!_textarea||!_textarea.id)return;var _id=_textarea.id,_src=_doParseSrc(_textarea,_options)[0];if(!!_src){_count++;var _url=_src+(_src.indexOf("?")<0?"?":"&")+(_e._$dataset(_textarea,"version")||""),_options={type:"text",method:"GET",onload:_onAddTextResource._$bind(null,_id)};window.setTimeout(_j._$request._$bind(_j,_url,_options),0)}};var _doAddTemplate=function(_node,_options){var _type=_node.name.toLowerCase();switch(_type){case"jst":_e._$addHtmlTemplate(_node,!0);return;case"txt":_e._$addTextTemplate(_node.id,_node.value||"");return;case"ntp":_e._$addNodeTemplate(_node.value||"",_node.id);return;case"js":_doAddScript(_node,_options);return;case"css":_doAddStyle(_node,_options);return;case"html":_doAddHtml(_node,_options);return;case"res":_doAddTextResource(_node,_options);return}};_t._$$CustomEvent._$allocate({element:document,event:"templateready",oneventadd:_doCheckReady});return function(_element,_options){_element=_e._$get(_element);if(!!_element){var _list=_element.tagName=="TEXTAREA"?[_element]:_element.getElementsByTagName("textarea");_u._$forEach(_list,function(_node){_doAddTemplate(_node,_options)});_e._$remove(_element,!0)}_doCheckReady();return this}}();_e._$addTextTemplate=function(_key,_value){_cache[_key]=_value||"";return this};_e._$getTextTemplate=function(_key){return _cache[_key]||""};_e._$addNodeTemplate=function(_element,_key){_key=_key||_u._$randNumberString();_element=_e._$get(_element)||_element;_e._$addTextTemplate(_skey+_key,_element);_e._$removeByEC(_element);return _key};_e._$getNodeTemplate=function(_key){if(!_key)return null;_key=_skey+_key;var _value=_e._$getTextTemplate(_key);if(!_value)return null;if(_u._$isString(_value)){_value=_e._$html2node(_value);_e._$addTextTemplate(_key,_value)}return _value.cloneNode(!0)};_e._$getItemTemplate=function(){var _doFilter=function(_value,_key){return _key=="offset"||_key=="limit"};return function(_list,_item,_options){var _arr=[];if(!_list||!_list.length||!_item)return _arr;_options=_options||_o;var _len=_list.length,_beg=parseInt(_options.offset)||0,_end=Math.min(_len,_beg+(parseInt(_options.limit)||_len)),_opt={total:_list.length,range:[_beg,_end]};NEJ.X(_opt,_options,_doFilter);for(var i=_beg,_instance;i<_end;i++){_opt.index=i;_opt.data=_list[i];_instance=_item._$allocate(_opt);var _id=_instance._$getId();_cache[_id]=_instance;_instance._$recycle=_instance._$recycle._$aop(function(_id,_instance){delete _cache[_id];delete _instance._$recycle}._$bind(null,_id,_instance));_arr.push(_instance)}return _arr}}();_e._$getItemById=function(_id){return _cache[_id]};_e._$setup=function(_klass,_options){_options=_options||_o;_e._$parseTemplate(_options.tid||"template-box");_v._$addEvent(document,"templateready",function(){_klass._$allocate()._$dispatchEvent("onshow",_options)})};_("dbg").dumpTC=function(){return _cache}})();
(function(){var a="aaaaaaaaa"})();
(function(){console.log("ok")})();
(function(){console.log("from common hack file")})();
(function(){var _=NEJ.P,_p=_("nej.p");if(_p._$NOT_PATCH.webkit)return;console.log("from chrome dep file")})();
(function(){var _auto_var_=NEJ.P("nej.p")._$KERNEL;if(_auto_var_.engine=="webkit"){(function(){console.log("from inline chrome")})()}})();
(function(){console.log("widget ok")})();
(function(){console.log("ok")})()